<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>Test - åˆ†ç±» - è°·ä¸­ä»çš„åšå®¢</title><link>https://guzhongren.github.io/categories/test/</link><description>Test - åˆ†ç±» - è°·ä¸­ä»çš„åšå®¢</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>guzhongren@live.cn (è°·ä¸­ä»)</managingEditor><webMaster>guzhongren@live.cn (è°·ä¸­ä»)</webMaster><copyright>Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Sat, 11 Jun 2022 20:03:35 +0800</lastBuildDate><atom:link href="https://guzhongren.github.io/categories/test/" rel="self" type="application/rss+xml"/><item><title>çœŸçš„éœ€è¦åœ¨æµ‹è¯•ä¸­æ‰“logä¹ˆï¼Ÿ</title><link>https://guzhongren.github.io/2022/06/%E7%9C%9F%E7%9A%84%E9%9C%80%E8%A6%81%E5%9C%A8%E6%B5%8B%E8%AF%95%E4%B8%AD%E6%89%93log%E4%B9%88/</link><pubDate>Sat, 11 Jun 2022 20:03:35 +0800</pubDate><author>è°·ä¸­ä»</author><guid>https://guzhongren.github.io/2022/06/%E7%9C%9F%E7%9A%84%E9%9C%80%E8%A6%81%E5%9C%A8%E6%B5%8B%E8%AF%95%E4%B8%AD%E6%89%93log%E4%B9%88/</guid><description><![CDATA[<div class="featured-image">
                <img src="https://images.unsplash.com/photo-1654885506947-fe5280d8e0ea?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1470&amp;q=80" referrerpolicy="no-referrer">
            </div><h2 id="å¼•è¨€">å¼•è¨€</h2>
<blockquote>
<p>&ldquo;è°ƒè¯•ç¨‹åºæ˜¯ç¨‹åºå‘˜æœ€å¤§çš„è€»è¾±&rdquo; &ndash; CTO</p>
</blockquote>
<h2 id="å†™äº†-log-å¹¶ä¸”å‡ºé”™çš„ç¨‹åº">å†™äº† log å¹¶ä¸”å‡ºé”™çš„ç¨‹åº</h2>
<div class="code-block code-line-numbers" style="counter-reset: code-block 0">
    <div class="code-header language-js">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;multiple&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should be send when invoke the method sendMessage&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span> <span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">value</span><span class="o">:</span> <span class="nb">window</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">writable</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">enumerable</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">configurable</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span> <span class="s1">&#39;postMessage&#39;</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">writable</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">value</span><span class="o">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">top</span><span class="o">?</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">sendMessage</span><span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">top</span><span class="o">?</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">expect</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">parent</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">).</span><span class="nx">toBeCalledTimes</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span></span></span></code></pre></div></div>
<p>è¿è¡Œè¾“å‡º</p>
<div class="code-block code-line-numbers" style="counter-reset: code-block 0">
    <div class="code-header language-js">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span>
</span></span><span class="line"><span class="cl">    <span class="p">[</span><span class="nb">Function</span><span class="o">:</span> <span class="nx">mockConstructor</span><span class="p">]</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">_isMockFunction</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">getMockImplementation</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mock</span><span class="o">:</span> <span class="p">[</span><span class="nx">Getter</span><span class="o">/</span><span class="nx">Setter</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockClear</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockReset</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockRestore</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockReturnValueOnce</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockResolvedValueOnce</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockRejectedValueOnce</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockReturnValue</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockResolvedValue</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockRejectedValue</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockImplementationOnce</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockImplementation</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockReturnThis</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockName</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">getMockName</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="nx">at</span> <span class="nb">Object</span><span class="p">.</span><span class="o">&lt;</span><span class="nx">anonymous</span><span class="o">&gt;</span> <span class="p">(</span><span class="nx">__test__</span><span class="o">/</span><span class="nx">method_sendMessage_mult_tests</span><span class="p">.</span><span class="nx">spec</span><span class="p">.</span><span class="nx">ts</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">13</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span>
</span></span><span class="line"><span class="cl">    <span class="p">[</span><span class="nb">Function</span><span class="o">:</span> <span class="nx">mockConstructor</span><span class="p">]</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">_isMockFunction</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">getMockImplementation</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mock</span><span class="o">:</span> <span class="p">[</span><span class="nx">Getter</span><span class="o">/</span><span class="nx">Setter</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockClear</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockReset</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockRestore</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockReturnValueOnce</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockResolvedValueOnce</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockRejectedValueOnce</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockReturnValue</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockResolvedValue</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockRejectedValue</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockImplementationOnce</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockImplementation</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockReturnThis</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">mockName</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">getMockName</span><span class="o">:</span> <span class="p">[</span><span class="nb">Function</span> <span class="p">(</span><span class="nx">anonymous</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="nx">at</span> <span class="nb">Object</span><span class="p">.</span><span class="o">&lt;</span><span class="nx">anonymous</span><span class="o">&gt;</span> <span class="p">(</span><span class="nx">__test__</span><span class="o">/</span><span class="nx">method_sendMessage_mult_tests</span><span class="p">.</span><span class="nx">spec</span><span class="p">.</span><span class="nx">ts</span><span class="o">:</span><span class="mi">18</span><span class="o">:</span><span class="mi">13</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="nx">FAIL</span>  <span class="nx">__test__</span><span class="o">/</span><span class="nx">method_sendMessage_mult_tests</span><span class="p">.</span><span class="nx">spec</span><span class="p">.</span><span class="nx">ts</span>
</span></span><span class="line"><span class="cl">  <span class="nx">multiple</span>
</span></span><span class="line"><span class="cl">    <span class="err">âœ•</span> <span class="nx">should</span> <span class="nx">be</span> <span class="nx">send</span> <span class="nx">when</span> <span class="nx">invoke</span> <span class="nx">the</span> <span class="nx">method</span> <span class="nx">sendMessage</span> <span class="p">(</span><span class="mi">12</span> <span class="nx">ms</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="err">â—</span> <span class="nx">multiple</span> <span class="err">â€º</span> <span class="nx">should</span> <span class="nx">be</span> <span class="nx">send</span> <span class="nx">when</span> <span class="nx">invoke</span> <span class="nx">the</span> <span class="nx">method</span> <span class="nx">sendMessage</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">expect</span><span class="p">(</span><span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">()).</span><span class="nx">toBeCalledTimes</span><span class="p">(</span><span class="nx">expected</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">Expected</span> <span class="nx">number</span> <span class="k">of</span> <span class="nx">calls</span><span class="o">:</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Received</span> <span class="nx">number</span> <span class="k">of</span> <span class="nx">calls</span><span class="o">:</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="mi">17</span> <span class="o">|</span>     <span class="nx">sendMessage</span><span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="mi">18</span> <span class="o">|</span>     <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">top</span><span class="o">?</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">&gt;</span> <span class="mi">19</span> <span class="o">|</span>     <span class="nx">expect</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">parent</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">).</span><span class="nx">toBeCalledTimes</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">         <span class="o">|</span>                                       <span class="o">^</span>
</span></span><span class="line"><span class="cl">      <span class="mi">20</span> <span class="o">|</span>   <span class="p">})</span>
</span></span><span class="line"><span class="cl">      <span class="mi">21</span> <span class="o">|</span> <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="nx">at</span> <span class="nb">Object</span><span class="p">.</span><span class="o">&lt;</span><span class="nx">anonymous</span><span class="o">&gt;</span> <span class="p">(</span><span class="nx">__test__</span><span class="o">/</span><span class="nx">method_sendMessage_mult_tests</span><span class="p">.</span><span class="nx">spec</span><span class="p">.</span><span class="nx">ts</span><span class="o">:</span><span class="mi">19</span><span class="o">:</span><span class="mi">39</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="nx">at</span> <span class="nx">processTicksAndRejections</span> <span class="p">(</span><span class="nx">node</span><span class="o">:</span><span class="nx">internal</span><span class="o">/</span><span class="nx">process</span><span class="o">/</span><span class="nx">task_queues</span><span class="o">:</span><span class="mi">96</span><span class="o">:</span><span class="mi">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Test</span> <span class="nx">Suites</span><span class="o">:</span> <span class="mi">1</span> <span class="nx">failed</span><span class="p">,</span> <span class="mi">1</span> <span class="nx">total</span>
</span></span><span class="line"><span class="cl"><span class="nx">Tests</span><span class="o">:</span>       <span class="mi">1</span> <span class="nx">failed</span><span class="p">,</span> <span class="mi">1</span> <span class="nx">total</span>
</span></span><span class="line"><span class="cl"><span class="nx">Snapshots</span><span class="o">:</span>   <span class="mi">0</span> <span class="nx">total</span>
</span></span><span class="line"><span class="cl"><span class="nx">Time</span><span class="o">:</span>        <span class="mf">1.077</span> <span class="nx">s</span>
</span></span><span class="line"><span class="cl"><span class="nx">Ran</span> <span class="nx">all</span> <span class="nx">test</span> <span class="nx">suites</span> <span class="nx">matching</span> <span class="o">/</span><span class="err">\</span><span class="o">/</span><span class="nx">Users</span><span class="err">\</span><span class="o">/</span><span class="nx">zhongren</span><span class="err">\</span><span class="p">.</span><span class="nx">gu</span><span class="err">\</span><span class="o">/</span><span class="mi">01</span><span class="err">\</span><span class="p">.</span><span class="nx">Project</span><span class="err">\</span><span class="o">/</span><span class="nx">test</span><span class="o">-</span><span class="nb">window</span><span class="o">-</span><span class="nx">object</span><span class="err">\</span><span class="o">/</span><span class="nx">__test__</span><span class="err">\</span><span class="o">/</span><span class="nx">method_sendMessage_mult_tests</span><span class="err">\</span><span class="p">.</span><span class="nx">spec</span><span class="err">\</span><span class="p">.</span><span class="nx">ts</span><span class="o">/</span><span class="nx">i</span> <span class="kd">with</span> <span class="nx">tests</span> <span class="nx">matching</span> <span class="s2">&#34;multiple should be send when invoke the method sendMessage&#34;</span><span class="p">.</span></span></span></code></pre></div></div>
<h2 id="åœ¨æµ‹è¯•ä¸­å†™-log-æœ‰ä»€ä¹ˆç”¨">åœ¨æµ‹è¯•ä¸­å†™ log æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2>
<blockquote>
<p>æœ¬æ–‡æ‰€è¯´çš„æµ‹è¯•ä¸­å†™çš„ Log æ˜¯æäº¤åˆ°ä»£ç ä»“åº“ä¸­çš„æ—¥å¿—ã€‚</p>
</blockquote>
<p>çœ‹äº†ä¸Šé¢çš„æµ‹è¯•å’Œ UT è¿è¡Œåçš„ç»“æœï¼Œä½ æœ‰ä»€ä¹ˆçœ‹æ³•ï¼Ÿ</p>
<p>åœ¨æˆ‘çœ‹æ¥ï¼Œæœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<h3 id="å½±å“æ€»ä½“çš„æµ‹è¯•è¾“å‡º">å½±å“æ€»ä½“çš„æµ‹è¯•è¾“å‡º</h3>
<p>å¦‚æœæµ‹è¯•ä¸­å­˜åœ¨å¾ˆå¤šçš„ logï¼Œå¹¶ä¸”æœ‰éƒ¨åˆ†æµ‹è¯•ä¼šå¤±è´¥ï¼Œå½“ä½ æ‰¾å¤±è´¥çš„æµ‹è¯•çš„æ—¶å€™å°±ä¼šå˜å¾—éå¸¸å›°éš¾ï¼Œä¼šè¢«log è¿·æƒ‘ã€‚æµ‹è¯•ç»“æœåˆ—è¡¨ä¸æ˜¯é‚£ä¹ˆæ•´é½ï¼Œç»™äººä»¥æµ‹è¯•æ··ä¹±ï¼Œä¸å¤Ÿæ•´æ´çš„æ„Ÿè§‰ï¼Œå½±å“å¼€å‘ä½“éªŒã€‚</p>
<h3 id="æ—¥å¿—å¯¹æµ‹è¯•è¿è¡Œçš„æˆè´¥æ²¡æœ‰ä»»ä½•å¥½å¤„">æ—¥å¿—å¯¹æµ‹è¯•è¿è¡Œçš„æˆè´¥æ²¡æœ‰ä»»ä½•å¥½å¤„</h3>
<p>æµ‹è¯•åœ¨è¿è¡Œå¤±è´¥åï¼Œä¼šè‡ªåŠ¨æ‰“å°å‡ºçœŸå®å€¼ï¼ˆReceivedï¼‰å’Œ æœŸæœ›å€¼ï¼ˆExpected), å¯¹äºä¼˜ç§€çš„ç¨‹åºå‘˜ï¼Œå¤§å®¶éƒ½ç”¨ TDD å¼€å‘ï¼ŒæŒ‰ç…§ TDD çš„å¥—è·¯ï¼Œç¨‹åºçš„æœŸæœ›å€¼æ˜¯å·²çŸ¥çš„ï¼›å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œä½ åº”è¯¥ä¿®æ”¹ä½ çš„äº§å“ä»£ç ï¼Œè®©ä½ çš„äº§å“ä»£ç çš„è¾“å‡ºç¬¦åˆä½ æµ‹è¯•çš„æœŸæœ›å€¼; è€Œä¸æ˜¯åœ¨ä½ çš„æµ‹è¯•ä»£ç ä¸­è°ƒè¯•ï¼Œæ‰“ logã€‚</p>
<p>å¦‚æœåœ¨æµ‹è¯•ä¸­æ‰“å°äº† Logï¼Œç¨‹åºå‘˜æœ€å¤šåœ¨æµ‹è¯•æ—¥å¿—ä¸­çœ‹çœ‹æŸä¸ªå˜é‡çš„å€¼ï¼Œå¯¹ç”Ÿäº§ä»£ç æ²¡æœ‰ä»»ä½•å½±å“; åŒæ—¶ä½ è¿˜å¾—èŠ±æ—¶é—´å»æ‰¾ä½ æƒ³è¦çš„æ—¥å¿—ï¼Œçº¯å±æµªè´¹æ—¶é—´ã€‚</p>
<p>å¦‚æœçœŸçš„éœ€è¦çœ‹æµ‹è¯•çš„æŸä¸ªå˜é‡æˆ–è€…çœ‹ç”Ÿäº§ä»£ç ä¸­æŸè¡Œä»£ç çš„è¿è¡Œæ—¶å€¼ï¼Œé€šè¿‡è°ƒè¯•ä½ çš„æµ‹è¯•ä»£ç ï¼Œåœ¨ä½ çš„ç”Ÿäº§ä»£ç ä¸­æ‰“æ–­ç‚¹å³å¯ï¼Œå®Œå…¨æ²¡æœ‰å¿…è¦å°†æµ‹è¯•ä¸­çš„æ—¥å¿—æ°¸ä¹…çš„ç•™åœ¨ä»£ç åº“ä¸­ã€‚</p>
<h2 id="ç”Ÿäº§ä»£ç ä¸­çš„æ—¥å¿—è¢«æµ‹è¯•æ‰“å°å‡ºæ¥å¯ä»¥å—">ç”Ÿäº§ä»£ç ä¸­çš„æ—¥å¿—è¢«æµ‹è¯•æ‰“å°å‡ºæ¥ï¼Œå¯ä»¥å—ï¼Ÿ</h2>
<p>ä¸è¡Œã€‚æ²¡æœ‰æ„ä¹‰ã€‚</p>
<p>è¿è¡Œæµ‹è¯•ï¼Œæˆ‘ä»¬åªæƒ³çŸ¥é“æ‰€æœ‰æµ‹è¯•æ˜¯å¦æˆåŠŸï¼Œè‡³äºä¸­é—´æ‰“å°å‡ºç”Ÿäº§ä»£ç ä¸­çš„æ—¥å¿—ä¹Ÿæ²¡æœ‰æ„ä¹‰ã€‚
å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œåªéœ€è¦ Fix å¯¹åº”çš„æµ‹è¯•å³å¯, æ— è®ºä»€ä¹ˆæ–¹æ³•ã€‚</p>
<h2 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h2>
<p>å¦‚æœçœŸçš„éœ€è¦åœ¨æµ‹è¯•æ—¶è°ƒè¯•ä»£ç ï¼Œå¯ä»¥åŠ  <code>debug</code> çº§åˆ«çš„è°ƒè¯•ä»£ç ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡æ—¥å¿—æ¥è°ƒè¯•äº†ï¼Œä½†è¿˜æ˜¯éœ€è¦é€šè¿‡å…¶ä»–çš„æ–¹å¼ï¼Œæ¯”å¦‚ <code>eslint</code> æ¥é™åˆ¶å°† <code>debug</code> æ—¥å¿—æäº¤åˆ° Repo ä¸­ã€‚</p>
<p>æ€ä¹ˆè®©æµ‹è¯•çš„è¾“å‡ºä¸­ä¸è¾“å‡º log ä¿¡æ¯å‘¢ï¼Ÿ</p>
<ul>
<li>
<p>å¯¹äºå‰ç«¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ‰€æœ‰æµ‹è¯•è¿è¡Œå‰ Spy <code>console.*</code>çš„æ‰€æœ‰çš„æ–¹æ³•ï¼Œ</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-js">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">jest</span><span class="p">.</span><span class="nx">spyOn</span><span class="p">(</span><span class="nx">console</span><span class="p">,</span> <span class="s1">&#39;log&#39;</span><span class="p">).</span><span class="nx">mockReturnValue</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">jest</span><span class="p">.</span><span class="nx">spyOn</span><span class="p">(</span><span class="nx">console</span><span class="p">,</span> <span class="s1">&#39;info&#39;</span><span class="p">).</span><span class="nx">mockReturnValue</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">jest</span><span class="p">.</span><span class="nx">spyOn</span><span class="p">(</span><span class="nx">console</span><span class="p">,</span> <span class="s1">&#39;warn&#39;</span><span class="p">).</span><span class="nx">mockReturnValue</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">jest</span><span class="p">.</span><span class="nx">spyOn</span><span class="p">(</span><span class="nx">console</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">).</span><span class="nx">mockReturnValue</span><span class="p">();</span></span></span></code></pre></div></div>
<p>è¿™æ®µä»£ç éœ€è¦å†™åœ¨ <code>tests/jest-setup.[t|j]s</code> ä¸­ã€‚</p>
</li>
<li>
<p>æˆ–è€…ä½¿ç”¨ç¬¬ä¸‰æ–¹æˆç†Ÿçš„ npm åŒ…ï¼Œ åƒ <a href="https://www.npmjs.com/package/jest-mock-console">jest-mock-console</a><sup>[1]</sup>
, è¿™ä¸ªåŒ…åŠŸèƒ½æ›´å¼ºå¤§ä¸€ç‚¹ã€‚</p>
</li>
</ul>
<div class="references">
                <h2>å‚è€ƒ</h2>
                <ol><li>jest-mock-console: <a href="https://www.npmjs.com/package/jest-mock-console" rel="noopener noreferrer">https://www.npmjs.com/package/jest-mock-console</a></li></ol>
            </div>]]></description></item><item><title>ä½¿ç”¨ Cypress åˆ›å»ºæµ‹è¯•é•œåƒå¹¶å®Œæˆ E2E æµ‹è¯•</title><link>https://guzhongren.github.io/2022/01/%E4%BD%BF%E7%94%A8cypress%E5%88%9B%E5%BB%BA%E6%B5%8B%E8%AF%95%E9%95%9C%E5%83%8F%E5%B9%B6%E5%AE%8C%E6%88%90e2e%E6%B5%8B%E8%AF%95/</link><pubDate>Sun, 16 Jan 2022 14:47:53 +0800</pubDate><author>è°·ä¸­ä»</author><guid>https://guzhongren.github.io/2022/01/%E4%BD%BF%E7%94%A8cypress%E5%88%9B%E5%BB%BA%E6%B5%8B%E8%AF%95%E9%95%9C%E5%83%8F%E5%B9%B6%E5%AE%8C%E6%88%90e2e%E6%B5%8B%E8%AF%95/</guid><description><![CDATA[<div class="featured-image">
                <img src="https://images.pexels.com/photos/5667741/pexels-photo-5667741.jpeg?auto=compress&amp;cs=tinysrgb&amp;dpr=2&amp;h=650&amp;w=940" referrerpolicy="no-referrer">
            </div><h2 id="ç¼˜ç”±">ç¼˜ç”±</h2>
<p>æœ€è¿‘åœ¨åšä¸€ä¸ª Buildkite çš„ Dashboard çš„é¡¹ç›® <a href="https://github.com/guzhongren/Powerboard">Powerboard</a><sup>[1]</sup>
ï¼Œé¡¹ç›®æ˜¯æ‰˜ç®¡åœ¨ GitHub çš„ Git Pages ä¸Šçš„ï¼›é¡¹ç›®åªæ˜¯ä¸€ä¸ªçº¯å‰ç«¯é¡¹ç›®ï¼Œä¸” E2E æµ‹è¯•æ˜¯ç”¨ <a href="https://www.cypress.io/">Cypress</a><sup>[2]</sup>
 æ„å»ºçš„ï¼›å¦‚æœè¦è¿›è¡Œ E2E æµ‹è¯•ä¸€èˆ¬æƒ…å†µéƒ½æ˜¯å¯¹ç€éƒ¨ç½²åœ¨ Git Pages ä¸Šçš„ç½‘ç«™ç›´æ¥æµ‹è¯•ï¼Œè€Œä¸”ä¹Ÿæ˜¯è¿™ä¹ˆåšçš„ğŸ˜„ã€‚</p>
<h2 id="ç—›ç‚¹">ç—›ç‚¹</h2>
<h3 id="æµ‹è¯•æ»å">æµ‹è¯•æ»å</h3>
<p>è¿™ä¹ˆåšè‚¯å®šæ˜¯æœ‰é—®é¢˜çš„ï¼Œäº§å“éƒ½ä¸Šçº¿äº†æ‰åšæµ‹è¯•ï¼Œè‚¯å®šå·²ç»è¿Ÿäº†ï¼›å¦‚æœç¨‹åºæœ‰é—®é¢˜ï¼Œé‚£ä¹ˆå°±ä¼šå½±å“æ‰€æœ‰ç”¨æˆ·ã€‚è¿™ç§æƒ…å†µåº”è¯¥ç®—æ˜¯ P1 çº§åˆ«çš„äº§å“äº‹æ•…ï¼Œå¯¹ç”¨æˆ·æ¥è¯´ç®€ç›´å°±æ˜¯ç¾éš¾ã€‚åº”è¯¥åœ¨éƒ¨ç½²ä¹‹å‰å°±åº”è¯¥å®Œæˆ E2E æµ‹è¯•ï¼Œå¦‚æœæµ‹è¯•é€šè¿‡ä¸äº†ï¼Œå°±ä¸åº”è¯¥éƒ¨ç½²ä»£ç ã€‚æ‰€ä»¥æµ‹è¯•åº”è¯¥å‰ç§»ã€‚</p>
<h2 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h2>
<p>ç”±äºæˆ‘ä»¬çš„æµ‹è¯•éœ€è¦è‡ªåŠ¨åŒ–ï¼Œéœ€è¦åœ¨ Pipeline ä¸Šæ‰§è¡Œï¼Œæ‰€ä»¥å¿…é¡»æ˜¯ä¸€ä¸ªå¯ä»¥ç‹¬ç«‹è¿è¡Œçš„ç¨‹åºå’Œ Cypress ç¨‹åºåŒæ—¶è¿è¡Œï¼Œå¹¶æœ€ç»ˆè¿”å›æµ‹è¯•ç»“æœï¼Œç”± Pipeline æ¥å†³å®šæ˜¯å¦ç»ˆæ­¢ Pipeline è¿è¡Œã€‚</p>
<p>åœ¨ GitHub Actions çš„ Pipeline ä¸ŠåŒæ—¶è¿è¡Œç¨‹åºåªèƒ½ä¾é  <code>docker-compose</code>, åœ¨è¿™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Cypress å®˜æ–¹å‡ºå“çš„ <a href="https://hub.docker.com/r/cypress/included">cypress/included</a><sup>[3]</sup>
, é€šè¿‡ç¼–æ’ç¨‹åºæ¥è¿›è¡Œæµ‹è¯•ã€‚</p>
<h3 id="cypressincluded">cypress/included</h3>
<p>cypress/included å¯ä»¥è®©æˆ‘ä»¬æŒ‚è½½ cypress çš„æµ‹è¯•è„šæœ¬ï¼Œç„¶åè‡ªåŠ¨æ‰§è¡Œï¼Œå¹¶åœ¨æœ€ç»ˆè¿”å› Linux å‘½ä»¤çŠ¶æ€å€¼ï¼Œå¦‚ 0 ï¼Œ é 0 å€¼ã€‚</p>
<h3 id="docker-compose">Docker-compose</h3>
<p><a href="https://docs.docker.com/compose/">Docker-compose</a><sup>[4]</sup>
 æ˜¯ä¸€å¥—å®¹å™¨ç¼–æ’å·¥å…·ï¼Œå¯ä»¥å¾ˆè½»æ¾çš„ç®¡ç†å®¹å™¨çš„å¯åŠ¨é¡ºåºç­‰ã€‚åœ¨æœ¬åœ°é¡¹ç›®æ­å»ºä¸­éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚æ„å»ºæ•°æ®åº“ï¼Œæ‰§è¡Œ shell/yaml lint ç­‰ã€‚</p>
<h2 id="æ‰§è¡Œæ–¹æ¡ˆ">æ‰§è¡Œæ–¹æ¡ˆ</h2>
<h3 id="æ„å»ºåº”ç”¨é•œåƒ">æ„å»ºåº”ç”¨é•œåƒ</h3>
<p>åœ¨æµ‹è¯•ä¹‹å‰éœ€è¦å°†åº”ç”¨æ„å»ºå¥½å¹¶éƒ¨ç½²å¥½ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ Node é•œåƒæ‰“åŒ…åº”ç”¨ï¼Œå¹¶åˆ©ç”¨å®¹å™¨çš„å¤šé˜¶æ®µæ„å»º (<a href="https://docs.docker.com/develop/develop-images/multistage-build/">multi-stage builds</a><sup>[5]</sup>
) å®Œæˆåº”ç”¨è½»é‡åŒ–æ„å»ºï¼Œå¹¶éƒ¨ç½²åœ¨ <a href="https://hub.docker.com/_/nginx">Nginx</a><sup>[6]</sup>
 ä¸­ã€‚</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-yaml">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="l">FROM node:17-alpine as distPackage</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">COPY ./ /app</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">WORKDIR /app</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">RUN yarn</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">RUN yarn build</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">FROM nginx:latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">COPY --from=distPackage /app/dist /usr/share/nginx/html</span></span></span></code></pre></div></div>
<h3 id="ç¼–æ’-service">ç¼–æ’ service</h3>
<p>å› ä¸ºæˆ‘ä»¬çš„ç¨‹åºéœ€è¦åœ¨æµ‹è¯•çš„æ—¶å€™å°±è¦éƒ¨ç½²å¥½ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Docker-compose çš„ <a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#build">build</a><sup>[7]</sup>
 å‚æ•°ï¼Œåœ¨å®¹å™¨å¯åŠ¨æ—¶æ„å»ºåº”ç”¨å¹¶éƒ¨ç½²ã€‚å¹¶åœ¨ cypress/included å¯åŠ¨æ˜¯æ‰§è¡Œæµ‹è¯•å‘½ä»¤ <code>npx cy:docker</code>, å…·ä½“å°±æ˜¯<code>cross-env ENV=docker cypress run --spec 'cypress/integration/dashboard.spec.js</code>ã€‚</p>
<div class="code-block code-line-numbers" style="counter-reset: code-block 0">
    <div class="code-header language-yaml">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;3&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">web</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">build</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">context</span><span class="p">:</span><span class="w"> </span><span class="l">./</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">dockerfile</span><span class="p">:</span><span class="w"> </span><span class="l">./Dockerfile</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">web</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l">always</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s1">&#39;80:80&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">e2e</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">cypress/included:9.2.1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">cypress</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">depends_on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">web</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">CYPRESS_baseUrl=http://web</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">ENV=docker</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l">npx cy:docker</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">working_dir</span><span class="p">:</span><span class="w"> </span><span class="l">/e2e</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">./:/e2e</span></span></span></code></pre></div></div>
<p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç‹¬ç«‹çš„è¿è¡Œèµ·çœŸå®ç¨‹åºå’Œæ­£å¼çš„æµ‹è¯•ç¨‹åºäº†ï¼Œå…·ä½“çš„ Pipeline å¯ä»¥å‚è€ƒ Powerboard çš„ <a href="https://github.com/guzhongren/Powerboard/blob/main/.github/workflows/main.yml">Workflow</a><sup>[8]</sup>
ã€‚</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-yml">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">E2E</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          docker-compose up --build e2e</span><span class="w">          </span></span></span></code></pre></div></div>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p><code>Docker-compopse</code> æœ‰å¾ˆå¥½çš„åº”ç”¨ç¼–æ’èƒ½åŠ›ï¼Œå¯ä»¥å¾ˆè½»æ¾çš„æ„å»ºå¤šæœåŠ¡ç¨‹åºï¼›å¹¶åœ¨æ„å»ºåº”ç”¨çš„æ—¶å€™å¯ä»¥ä½¿ç”¨å¤šé˜¶æ®µæ„å»ºæ¥ä¼˜åŒ–é•œåƒå¤§å°ã€‚ä½¿ç”¨ <code>Cypress</code> å¯ä»¥æé«˜å¼€å‘æ•ˆç‡å¹¶å¯åœ¨ <code>Pipeline</code> ä¸Šä¿è¯ç¨‹åºçš„æ­£ç¡®æ€§ã€‚</p>
<div class="references">
                <h2>å‚è€ƒ</h2>
                <ol><li>Powerboard: <a href="https://github.com/guzhongren/Powerboard" rel="noopener noreferrer">https://github.com/guzhongren/Powerboard</a></li><li>Cypress: <a href="https://www.cypress.io/" rel="noopener noreferrer">https://www.cypress.io/</a></li><li>cypress/included: <a href="https://hub.docker.com/r/cypress/included" rel="noopener noreferrer">https://hub.docker.com/r/cypress/included</a></li><li>Docker-compose: <a href="https://docs.docker.com/compose/" rel="noopener noreferrer">https://docs.docker.com/compose/</a></li><li>multi-stage builds: <a href="https://docs.docker.com/develop/develop-images/multistage-build/" rel="noopener noreferrer">https://docs.docker.com/develop/develop-images/multistage-build/</a></li><li>Nginx: <a href="https://hub.docker.com/_/nginx" rel="noopener noreferrer">https://hub.docker.com/_/nginx</a></li><li>build: <a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#build" rel="noopener noreferrer">https://docs.docker.com/compose/compose-file/compose-file-v3/#build</a></li><li>Workflow: <a href="https://github.com/guzhongren/Powerboard/blob/main/.github/workflows/main.yml" rel="noopener noreferrer">https://github.com/guzhongren/Powerboard/blob/main/.github/workflows/main.yml</a></li></ol>
            </div>]]></description></item><item><title>Test With 3rd Party Library</title><link>https://guzhongren.github.io/2021/04/test-with-3rd-party-library/</link><pubDate>Sun, 18 Apr 2021 21:57:08 +0800</pubDate><author>è°·ä¸­ä»</author><guid>https://guzhongren.github.io/2021/04/test-with-3rd-party-library/</guid><description><![CDATA[<div class="featured-image">
                <img src="https://images.unsplash.com/photo-1671227498016-93aa927686f8?ixlib=rb-4.0.3&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1074&amp;q=80" referrerpolicy="no-referrer">
            </div><h2 id="åœºæ™¯">åœºæ™¯</h2>
<p>ä¸€èˆ¬çš„å‰ç«¯å¼€å‘æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½ä¼šç”¨åˆ°å…¶ä»–çš„ç¬¬ä¸‰æ–¹åº“ï¼Œæ¯”å¦‚ UI åº“ <code>Ant Desgin</code>ï¼Œ è¯·æ±‚åº“ <code>axios</code> ç­‰ï¼Œé€šå¸¸å¯¹äº UI åº“ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¿«ç…§ç­‰æ“ä½œå¯¹å…¶è¿›è¡Œæµ‹è¯•ï¼Œä½†æ˜¯å¯¹äºåƒ axios è¿™ç±»ç¬¬ä¸‰æ–¹åº“ï¼Œæˆ‘ä»¬å¿…é¡»é€šè¿‡ mock çš„æ–¹å¼æ¥å®ç°ã€‚</p>
<h2 id="é—®é¢˜">é—®é¢˜</h2>
<p>ä¸Šå‘¨å››æ™šä¸Šçªç„¶æ”¶åˆ°åŒäº‹çš„å¾®ä¿¡æ±‚åŠ©ï¼Œæ€ä¹ˆ mock ä¸€ä¸ª <code>jwt-decode</code> è¿™ä¸ªåº“ã€‚ç„¶è€Œç†æƒ³å¾ˆä¸°æ»¡ï¼Œç°å®å¾ˆéª¨å¹²ã€‚å¦¹å­æ‰¾äº† jest å®˜ç½‘çš„å„ç§æµ‹è¯•æ–¹å¼ï¼Œæ²¡æœ‰æˆåŠŸï¼Œæˆ‘å²‚èƒ½éšéšä¾¿ä¾¿æˆåŠŸã€‚</p>
<p>å¦¹å­çš„é—®é¢˜å¦‚ä¸‹ï¼š</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-js">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">jwt_decode</span> <span class="nx">from</span> <span class="s1">&#39;jwt-decode&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">cookieAccessToken</span> <span class="o">=</span> <span class="nx">cookie</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;cookie-key&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">userJwt</span> <span class="o">=</span> <span class="p">(</span><span class="nx">cookieAccessToken</span> <span class="o">&amp;&amp;</span> <span class="nx">jwt_decode</span><span class="p">(</span><span class="nx">cookieAccessToken</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">....</span></span></span></code></pre></div></div>
<h2 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h2>
<p>åœ¨æ„å»ºé¡¹ç›®å‰æœŸï¼Œé€šè¿‡å„ç§å°è¯•å¯åŠ¨ä¸€ä¸ªæ”¯æŒ <code>import</code> è¯­æ³•çš„é¡¹ç›®ï¼Œå§‹ç»ˆæœªé‚ã€‚ æœ€ç»ˆè¿˜æ˜¯æŒ‰ç…§ Jest å®˜ç½‘çš„æç¤ºä¸€æ­¥æ­¥èµ°ï¼Œæ„å»ºèµ·äº†ä¸€ä¸ªé¡¹ç›®ã€‚</p>
<h3 id="å‚è€ƒå®˜ç½‘ç¤ºä¾‹">å‚è€ƒå®˜ç½‘ç¤ºä¾‹</h3>
<p>å®˜ç½‘ç¤ºä¾‹å¦‚ä¸‹ï¼Œæ˜¯ä¸€ä¸ª mock æœ‰æ–¹æ³•çš„ç±»çš„ï¼Œä½†æ˜¯é€šè¿‡ä¸Šé¢çš„ä»£ç å¯çŸ¥ï¼Œè¿™ä¸ªä¸æ˜¯ä¸€ä¸ªç±»ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨çš„ä¸€ä¸ªæ–¹æ³•ã€‚</p>
<div class="code-block code-line-numbers" style="counter-reset: code-block 0">
    <div class="code-header language-js">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">moduleName</span><span class="p">,</span> <span class="p">{</span><span class="nx">foo</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../moduleName&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">jest</span><span class="p">.</span><span class="nx">mock</span><span class="p">(</span><span class="s1">&#39;../moduleName&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">__esModule</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="k">default</span><span class="o">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="mi">42</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="nx">foo</span><span class="o">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="mi">43</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">  <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">moduleName</span><span class="p">();</span> <span class="c1">// Will return 42
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">foo</span><span class="p">();</span> <span class="c1">// Will return 43
</span></span></span></code></pre></div></div>
<p>å¾ˆæ˜æ˜¾è¿™æ˜¯ä¸ç¬¦åˆæˆ‘ä¹ˆåœºæ™¯çš„ã€‚é€šè¿‡è§‚å¯Ÿå¯çŸ¥ï¼Œjest.mock çš„ç¬¬äºŒå‚æ•°æ˜¯å·¥å‚æ•°ï¼Œè¿”å›äº†ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åé€šè¿‡è°ƒç”¨ä¸ªè¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œè¿”å›ç‰¹å®šçš„ mock æ•°æ®ã€‚ é‚£ä¹ˆå¯¹äºæˆ‘ä»¬è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬åªéœ€è¦è¿”å›ä¸€ä¸ª mock åçš„æ–¹æ³•å³å¯ã€‚</p>
<p>so, æ–¹æ¡ˆå¯æ•´ç†å¦‚ä¸‹</p>
<div class="code-block code-line-numbers" style="counter-reset: code-block 0">
    <div class="code-header language-js">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">jwt_decode</span> <span class="nx">from</span> <span class="s2">&#34;jwt-decode&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">jest</span><span class="p">.</span><span class="nx">mock</span><span class="p">(</span><span class="s2">&#34;jwt-decode&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">().</span><span class="nx">mockImplementation</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="s2">&#34;test&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">it</span><span class="p">(</span><span class="s2">&#34;jwt&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">token</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">		<span class="s2">&#34;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmb28iOiJiYXIiLCJleHAiOjEzOTMyODY4OTMsImlhdCI6MTM5MzI2ODg5M30.4-iaDojEVl0pJQMjrbM1EzUIfAZgsbK_kgnVyVxFSVo&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kr">const</span> <span class="nx">decoded</span> <span class="o">=</span> <span class="nx">jwt_decode</span><span class="p">(</span><span class="nx">token</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="nx">expect</span><span class="p">(</span><span class="nx">decoded</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s2">&#34;test&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span></span></span></code></pre></div></div>
<p>ç„¶åè¿è¡Œ testï¼Œé€šè¿‡ã€‚</p>
<p>Code åœ°å€ï¼šhttps://github.com/guzhongren/awesome-unittest/tree/main/JavaScript/Frontend/src/3rd-part-test</p>
]]></description></item><item><title>[ç¿»è¯‘] åˆæ¢æ€§èƒ½æµ‹è¯•</title><link>https://guzhongren.github.io/2021/04/%E5%88%9D%E6%8E%A2%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/</link><pubDate>Sat, 03 Apr 2021 21:12:37 +0800</pubDate><author>è°·ä¸­ä»</author><guid>https://guzhongren.github.io/2021/04/%E5%88%9D%E6%8E%A2%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/</guid><description><![CDATA[<div class="featured-image">
                <img src="https://images.unsplash.com/photo-1671227498016-93aa927686f8?ixlib=rb-4.0.3&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1074&amp;q=80" referrerpolicy="no-referrer">
            </div><h2 id="ä»€ä¹ˆæ˜¯æ€§èƒ½æµ‹è¯•">ä»€ä¹ˆæ˜¯æ€§èƒ½æµ‹è¯•</h2>
<p></p>
<p>æ€§èƒ½æµ‹è¯•æ˜¯ä¸€ç§è½¯ä»¶æµ‹è¯•è¿‡ç¨‹ï¼Œç”¨äºæµ‹è¯•ç‰¹å®šå·¥ä½œè´Ÿè½½ä¸‹è½¯ä»¶åº”ç”¨ç¨‹åºçš„é€Ÿåº¦ã€å“åº”æ—¶é—´ã€ç¨³å®šæ€§ã€å¯é æ€§ã€å¯ä¼¸ç¼©æ€§å’Œèµ„æºä½¿ç”¨æƒ…å†µã€‚æ€§èƒ½æµ‹è¯•çš„ä¸»è¦ç›®çš„æ˜¯è¯†åˆ«å’Œæ¶ˆé™¤è½¯ä»¶åº”ç”¨ç¨‹åºä¸­çš„æ€§èƒ½ç“¶é¢ˆã€‚å®ƒæ˜¯æ€§èƒ½å·¥ç¨‹çš„ä¸€ä¸ªå­é›†ï¼Œä¹Ÿè¢«ç§°ä¸º&quot;Perf Testing&quot;ã€‚</p>
<p>æ€§èƒ½æµ‹è¯•çš„é‡ç‚¹æ˜¯æ£€æŸ¥è½¯ä»¶ç¨‹åºçš„ä»¥ä¸‹å‡ ä¸ªæ€§èƒ½ï¼š</p>
<ul>
<li><strong>é€Ÿåº¦</strong>    â€”â€”ç¡®å®šåº”ç”¨ç¨‹åºæ˜¯å¦å¿«é€Ÿå“åº”</li>
<li><strong>å¯ä¼¸ç¼©æ€§</strong>â€”â€”ç¡®å®šè½¯ä»¶åº”ç”¨ç¨‹åºèƒ½å¤Ÿå¤„ç†çš„æœ€å¤§ç”¨æˆ·è´Ÿè½½</li>
<li><strong>ç¨³å®šæ€§</strong>  &ndash;ç¡®å®šåº”ç”¨ç¨‹åºåœ¨å˜åŒ–çš„è´Ÿè½½ä¸‹æ˜¯å¦ç¨³å®š</li>
</ul>
<h2 id="ä¸ºä»€ä¹ˆè¦åšæ€§èƒ½æµ‹è¯•">ä¸ºä»€ä¹ˆè¦åšæ€§èƒ½æµ‹è¯•</h2>
<p>è½¯ä»¶ç³»ç»Ÿæ”¯æŒçš„ç‰¹æ€§å’ŒåŠŸèƒ½å¹¶ä¸æ˜¯å”¯ä¸€çš„å…³æ³¨ç‚¹ã€‚è½¯ä»¶åº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼Œå¦‚å“åº”æ—¶é—´ã€å¯é æ€§ã€èµ„æºä½¿ç”¨å’Œå¯ä¼¸ç¼©æ€§éƒ½å¾ˆé‡è¦ã€‚æ€§èƒ½æµ‹è¯•çš„ç›®æ ‡ä¸æ˜¯å‘ç° bugï¼Œè€Œæ˜¯æ¶ˆé™¤æ€§èƒ½ç“¶é¢ˆã€‚</p>
<p>è¿›è¡Œæ€§èƒ½æµ‹è¯•æ˜¯ä¸ºäº†å‘æ¶‰ä¼—æä¾›æœ‰å…³å…¶åº”ç”¨ç¨‹åºçš„é€Ÿåº¦ã€ç¨³å®šæ€§å’Œå¯ä¼¸ç¼©æ€§æ–¹é¢çš„ä¿¡æ¯ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæ€§èƒ½æµ‹è¯•æ­ç¤ºäº†åœ¨äº§å“è¿›å…¥å¸‚åœºä¹‹å‰éœ€è¦æ”¹è¿›çš„åœ°æ–¹ã€‚å¦‚æœæ²¡æœ‰æ€§èƒ½æµ‹è¯•ï¼Œè½¯ä»¶å¾ˆå¯èƒ½ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼šå‡ ä¸ªç”¨æˆ·åŒæ—¶ä½¿ç”¨æ—¶è¿è¡Œç¼“æ…¢ï¼Œä¸åŒæ“ä½œç³»ç»Ÿä¹‹é—´çš„ä¸ä¸€è‡´æ€§ä»¥åŠæ˜“ç”¨æ€§å·®ã€‚</p>
<p>æ€§èƒ½æµ‹è¯•å°†ç¡®å®šä»–ä»¬çš„è½¯ä»¶åœ¨é¢„æœŸçš„å·¥ä½œè´Ÿè½½ä¸‹æ˜¯å¦æ»¡è¶³é€Ÿåº¦ã€å¯ä¼¸ç¼©æ€§å’Œç¨³å®šæ€§è¦æ±‚ã€‚ç”±äºä¸å­˜åœ¨æˆ–ç³Ÿç³•çš„æ€§èƒ½æµ‹è¯•è€Œå°†æ€§èƒ½æŒ‡æ ‡è¾ƒå·®çš„åº”ç”¨ç¨‹åºå‘é€åˆ°å¸‚åœºä¸Šï¼Œå¯èƒ½ä¼šè·å¾—ååå£°ï¼Œæ— æ³•è¾¾åˆ°é¢„æœŸçš„é”€å”®ç›®æ ‡ç­‰ã€‚</p>
<p>æ­¤å¤–ï¼Œè¯¸å¦‚å¤ªç©ºå‘å°„è®¡åˆ’æˆ–æ•‘ç”ŸåŒ»ç–—è®¾å¤‡ç­‰å…³é”®ä»»åŠ¡åº”ç”¨ç¨‹åºåº”è¿›è¡Œæ€§èƒ½æµ‹è¯•ï¼Œä»¥ç¡®ä¿å®ƒä»¬èƒ½å¤Ÿé•¿æœŸè¿è¡Œè€Œæ— åå·®ã€‚</p>
<p>æ® Dunn &amp; Bradstreet å…¬å¸ç»Ÿè®¡ï¼Œ59%çš„è´¢å¯Œ 500 å¼ºå…¬å¸æ¯å‘¨çš„åœæœºæ—¶é—´ä¼°è®¡ä¸º 1.6 å°æ—¶ã€‚è€ƒè™‘åˆ°æ‹¥æœ‰è‡³å°‘ 1 ä¸‡åå‘˜å·¥çš„ã€Šè´¢å¯Œã€‹500 å¼ºå…¬å¸çš„å¹³å‡å·¥èµ„æ˜¯æ¯å°æ—¶ 56 ç¾å…ƒï¼Œè¿™æ ·çš„ç»„ç»‡çš„åœå·¥éƒ¨åˆ†çš„åŠ³åŠ¨æˆæœ¬å°†æ˜¯æ¯å‘¨ 89.6 ä¸‡ç¾å…ƒï¼Œæ¢ç®—æˆæ¯å¹´è¶…è¿‡ 4600 ä¸‡ç¾å…ƒã€‚</p>
<p>æ®ä¼°è®¡ï¼ŒGoogle.com(8 æœˆ 19 æ—¥è‡³ 13 æ—¥ï¼‰ä»… 5 åˆ†é’Ÿçš„åœæœºæ—¶é—´å°±ä¼šç»™è¿™å®¶æœç´¢å·¨å¤´å¸¦æ¥ 54.5 ä¸‡ç¾å…ƒçš„æŸå¤±ã€‚</p>
<p>å¦å¤–ï¼Œç”±äºæœ€è¿‘ä¸€æ¬¡äºšé©¬é€Šç½‘ç»œæœåŠ¡ä¸­æ–­ï¼Œå…¬å¸æ¯ç§’æŸå¤±äº†ä»·å€¼ 1100 ç¾å…ƒçš„é”€å”®é¢ã€‚</p>
<p>é‰´äºæ­¤ï¼Œæ€§èƒ½æµ‹è¯•åœ¨ä¿éšœæœåŠ¡å¯ç”¨æ€§ç­‰æ–¹é¢çœŸçš„å¾ˆé‡è¦ã€‚</p>
<h2 id="æ€§èƒ½æµ‹è¯•çš„ç±»å‹">æ€§èƒ½æµ‹è¯•çš„ç±»å‹</h2>
<p><strong>è´Ÿè½½æµ‹è¯•</strong>    â€”â€”æ£€æŸ¥åº”ç”¨ç¨‹åºåœ¨é¢„æœŸç”¨æˆ·è´Ÿè½½ä¸‹çš„æ‰§è¡Œèƒ½åŠ›ã€‚ç›®æ ‡æ˜¯åœ¨è½¯ä»¶åº”ç”¨ç¨‹åºè¿è¡Œä¹‹å‰è¯†åˆ«æ€§èƒ½ç“¶é¢ˆã€‚</p>
<p><strong>å‹åŠ›æµ‹è¯•</strong>    â€”â€”åŒ…æ‹¬åœ¨æç«¯å·¥ä½œè´Ÿè½½ä¸‹æµ‹è¯•åº”ç”¨ç¨‹åºï¼Œä»¥äº†è§£å®ƒå¦‚ä½•å¤„ç†é«˜æµé‡æˆ–æ•°æ®å¤„ç†ã€‚ç›®æ ‡æ˜¯è¯†åˆ«åº”ç”¨ç¨‹åºçš„æé™ã€‚</p>
<p><strong>è€ä¹…æ€§æµ‹</strong>  â€”â€”æ˜¯ä¸ºäº†ç¡®ä¿è½¯ä»¶èƒ½å¤Ÿåœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…å¤„ç†é¢„æœŸçš„è´Ÿè½½ã€‚</p>
<p><strong>å³°å€¼æµ‹è¯•</strong>    â€”â€”æµ‹è¯•è½¯ä»¶å¯¹ç”¨æˆ·äº§ç”Ÿçš„çªç„¶çš„è´Ÿè½½å³°å€¼çš„ååº”ã€‚</p>
<p><strong>ä½“ç§¯æµ‹è¯•</strong>    â€”â€”åœ¨å¤§é‡æµ‹è¯•æ•°æ®è¢«å¡«å……åˆ°æ•°æ®åº“ä¸‹ï¼Œç›‘æµ‹æ•´ä¸ªè½¯ä»¶ç³»ç»Ÿçš„è¡Œä¸ºã€‚ç›®æ ‡æ˜¯æ£€æŸ¥è½¯ä»¶åº”ç”¨ç¨‹åºåœ¨ä¸åŒæ•°æ®åº“å®¹é‡ä¸‹çš„æ€§èƒ½ã€‚</p>
<p><strong>å¯ä¼¸ç¼©æ€§æµ‹è¯•</strong>â€”â€”å¯ä¼¸ç¼©æ€§æµ‹è¯•çš„ç›®æ ‡æ˜¯ç¡®å®šè½¯ä»¶åº”ç”¨ç¨‹åºåœ¨â€œæ‰©å±•â€ä»¥æ”¯æŒç”¨æˆ·è´Ÿè½½å¢åŠ æ–¹é¢çš„æœ‰æ•ˆæ€§ã€‚å®ƒæœ‰åŠ©äºè§„åˆ’è½¯ä»¶ç³»ç»Ÿçš„å®¹é‡ã€‚</p>
<h2 id="å¸¸è§çš„æ€§èƒ½é—®é¢˜">å¸¸è§çš„æ€§èƒ½é—®é¢˜</h2>
<p>å¤§å¤šæ•°æ€§èƒ½é—®é¢˜éƒ½ä¸é€Ÿåº¦ã€å“åº”æ—¶é—´ã€åŠ è½½æ—¶é—´å’Œè¾ƒå·®çš„å¯ä¼¸ç¼©æ€§æœ‰å…³ã€‚é€Ÿåº¦é€šå¸¸æ˜¯åº”ç”¨ç¨‹åºæœ€é‡è¦çš„å±æ€§ä¹‹ä¸€ã€‚è¿è¡Œç¼“æ…¢çš„åº”ç”¨ç¨‹åºå°†å¤±å»æ½œåœ¨çš„ç”¨æˆ·ã€‚æ€§èƒ½æµ‹è¯•æ˜¯ä¸ºäº†ç¡®ä¿åº”ç”¨è¿è¡Œé€Ÿåº¦è¶³ä»¥å¸å¼•ç”¨æˆ·çš„æ³¨æ„å’Œå…´è¶£ã€‚çœ‹çœ‹ä¸‹é¢çš„å¸¸è§æ€§èƒ½é—®é¢˜åˆ—è¡¨ï¼Œå¹¶æ³¨æ„åˆ°é€Ÿåº¦æ˜¯å…¶ä¸­çš„ä¸€ä¸ªå¸¸è§å› ç´ ï¼š</p>
<ul>
<li>
<p><strong>åŠ è½½æ—¶é—´é•¿</strong>â€”â€”åŠ è½½æ—¶é—´é€šå¸¸æ˜¯åº”ç”¨ç¨‹åºå¯åŠ¨çš„åˆå§‹æ—¶é—´ã€‚è¿™é€šå¸¸åº”è¯¥ä¿æŒåœ¨æœ€ä½é™åº¦ã€‚è™½ç„¶æœ‰äº›åº”ç”¨ç¨‹åºä¸å¯èƒ½åœ¨ä¸€åˆ†é’Ÿå†…å®ŒæˆåŠ è½½ï¼Œä½†åŠ è½½æ—¶é—´åº”è¯¥å°½å¯èƒ½ä¿æŒåœ¨å‡ ç§’é’Ÿä»¥å†…ã€‚</p>
</li>
<li>
<p><strong>å“åº”æ—¶é—´çŸ­</strong>â€”â€”å“åº”æ—¶é—´æ˜¯ä»ç”¨æˆ·å‘åº”ç”¨ç¨‹åºè¾“å…¥æ•°æ®åˆ°åº”ç”¨ç¨‹åºè¾“å‡ºå¯¹è¯¥è¾“å…¥çš„å“åº”æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿™åº”è¯¥å¾ˆå¿«ã€‚å¦‚æœç”¨æˆ·ç­‰å¾…çš„æ—¶é—´è¿‡é•¿ï¼Œä»–ä»¬å°±ä¼šå¤±å»å…´è¶£ã€‚</p>
</li>
<li>
<p><strong>å¯ä¼¸ç¼©æ€§å·®</strong>â€”â€”å½“è½¯ä»¶äº§å“ä¸èƒ½å¤„ç†é¢„æœŸçš„ç”¨æˆ·æ•°é‡æˆ–ä¸èƒ½å®¹çº³è¶³å¤Ÿå¤§çš„ç”¨æˆ·èŒƒå›´æ—¶ï¼Œå®ƒå°±ä¼šå—åˆ°å¯ä¼¸ç¼©æ€§å·®çš„å›°æ‰°ã€‚åº”è¯¥è¿›è¡Œè´Ÿè½½æµ‹è¯•ï¼Œä»¥ç¡®å®šåº”ç”¨ç¨‹åºèƒ½å¤Ÿå¤„ç†é¢„æœŸçš„ç”¨æˆ·æ•°é‡ã€‚</p>
</li>
<li>
<p><strong>ç“¶é¢ˆ</strong>-ç“¶é¢ˆæ˜¯ç³»ç»Ÿä¸­ä¼šé™ä½æ•´ä½“ç³»ç»Ÿæ€§èƒ½çš„éšœç¢ã€‚ç“¶é¢ˆæ˜¯ç¼–ç é”™è¯¯æˆ–ç¡¬ä»¶é—®é¢˜å¯¼è‡´åœ¨ç‰¹å®šè´Ÿè½½ä¸‹ååé‡ä¸‹é™ã€‚ç“¶é¢ˆé€šå¸¸æ˜¯ç”±ä¸€ä¸ªé”™è¯¯çš„ä»£ç éƒ¨åˆ†å¼•èµ·çš„ã€‚ä¿®å¤ç“¶é¢ˆé—®é¢˜çš„å…³é”®æ˜¯æ‰¾åˆ°å¯¼è‡´æ”¾ç¼“çš„ä»£ç éƒ¨åˆ†ï¼Œå¹¶å°è¯•ä¿®å¤å®ƒã€‚ç“¶é¢ˆé€šå¸¸å¯ä»¥é€šè¿‡ä¿®å¤è¿è¡Œä¸è‰¯çš„è¿›ç¨‹æˆ–æ·»åŠ é¢å¤–çš„ç¡¬ä»¶æ¥è§£å†³ã€‚ä¸€äº›å¸¸è§çš„æ€§èƒ½ç“¶é¢ˆæ˜¯ï¼š</p>
<ul>
<li><strong>CPU åˆ©ç”¨ç‡</strong></li>
<li><strong>å†…å­˜åˆ©ç”¨ç‡</strong></li>
<li><strong>ç½‘ç»œåˆ©ç”¨ç‡</strong></li>
<li><strong>æ“ä½œç³»ç»Ÿé™åˆ¶</strong></li>
<li><strong>ç£ç›˜ä½¿ç”¨æƒ…å†µ</strong></li>
</ul>
</li>
</ul>
<h2 id="æ€§èƒ½æµ‹è¯•è¿‡ç¨‹">æ€§èƒ½æµ‹è¯•è¿‡ç¨‹</h2>
<p>ä¸ºæ€§èƒ½æµ‹è¯•æ‰€é‡‡ç”¨çš„æ–¹æ³•å¯èƒ½æœ‰å¾ˆå¤§çš„ä¸åŒï¼Œä½†æ˜¯æ€§èƒ½æµ‹è¯•çš„ç›®æ ‡æ˜¯ç›¸åŒçš„ã€‚å®ƒå¯ä»¥å¸®åŠ©è¯æ˜æ‚¨çš„è½¯ä»¶ç³»ç»Ÿæ»¡è¶³æŸäº›é¢„å…ˆå®šä¹‰çš„æ€§èƒ½æ ‡å‡†ã€‚æˆ–è€…å®ƒå¯ä»¥å¸®åŠ©æ¯”è¾ƒä¸¤ä¸ªè½¯ä»¶ç³»ç»Ÿçš„æ€§èƒ½ã€‚å®ƒè¿˜å¯ä»¥å¸®åŠ©è¯†åˆ«é™ä½è½¯ä»¶ç³»ç»Ÿæ€§èƒ½çš„éƒ¨åˆ†ã€‚</p>
<p>ä¸‹é¢æ˜¯å…³äºå¦‚ä½•æ‰§è¡Œæ€§èƒ½æµ‹è¯•çš„ä¸€èˆ¬æµç¨‹ï¼š</p>
<p></p>
<ol>
<li>
<p><strong>ç¡®å®šæ‚¨çš„æµ‹è¯•ç¯å¢ƒ</strong> â€”â€” äº†è§£æ‚¨çš„ç‰©ç†æµ‹è¯•ç¯å¢ƒã€ç”Ÿäº§ç¯å¢ƒä»¥åŠå¯ç”¨çš„æµ‹è¯•å·¥å…·ã€‚åœ¨å¼€å§‹æµ‹è¯•è¿‡ç¨‹ä¹‹å‰ï¼Œè¯·äº†è§£æµ‹è¯•è¿‡ç¨‹ä¸­ä½¿ç”¨çš„ç¡¬ä»¶ã€è½¯ä»¶å’Œç½‘ç»œé…ç½®çš„è¯¦ç»†ä¿¡æ¯ã€‚å®ƒå°†å¸®åŠ©æµ‹è¯•äººå‘˜åˆ›å»ºæ›´æœ‰æ•ˆçš„æµ‹è¯•ã€‚å®ƒè¿˜å°†å¸®åŠ©è¯†åˆ«æµ‹è¯•äººå‘˜åœ¨æ€§èƒ½æµ‹è¯•è¿‡ç¨‹ä¸­å¯èƒ½é‡åˆ°çš„æŒ‘æˆ˜ã€‚</p>
</li>
<li>
<p><strong>ç¡®å®šæ€§èƒ½éªŒæ”¶æ ‡å‡†</strong> â€”â€” è¿™åŒ…æ‹¬ååé‡ã€å“åº”æ—¶é—´å’Œèµ„æºåˆ†é…çš„ç›®æ ‡å’Œçº¦æŸã€‚åœ¨è¿™äº›ç›®æ ‡å’Œçº¦æŸä¹‹å¤–ç¡®å®šé¡¹ç›®æˆåŠŸçš„æ ‡å‡†ä¹Ÿæ˜¯å¿…è¦çš„ã€‚æµ‹è¯•äººå‘˜åº”è¯¥è¢«æˆæƒè®¾ç½®æ€§èƒ½æ ‡å‡†å’Œç›®æ ‡ï¼Œå› ä¸ºé¡¹ç›®è§„èŒƒé€šå¸¸ä¸ä¼šåŒ…æ‹¬è¶³å¤Ÿå¹¿æ³›çš„æ€§èƒ½åŸºå‡†ã€‚æœ‰æ—¶å¯èƒ½æ ¹æœ¬æ²¡æœ‰ã€‚å¦‚æœå¯èƒ½ï¼Œæ‰¾åˆ°ä¸€ä¸ªç±»ä¼¼çš„åº”ç”¨ç¨‹åºè¿›è¡Œæ¯”è¾ƒæ˜¯è®¾ç½®æ€§èƒ½ç›®æ ‡çš„å¥½æ–¹æ³•ã€‚</p>
</li>
<li>
<p><strong>è®¡åˆ’å’Œè®¾è®¡æ€§èƒ½æµ‹è¯•</strong> â€”â€” ç¡®å®šæœ€ç»ˆç”¨æˆ·çš„ä½¿ç”¨å¯èƒ½å¦‚ä½•å˜åŒ–ï¼Œå¹¶ç¡®å®šæµ‹è¯•æ‰€æœ‰å¯èƒ½ç”¨ä¾‹çš„å…³é”®åœºæ™¯ã€‚æ¨¡æ‹Ÿå„ç§ç»ˆç«¯ç”¨æˆ·ã€è®¡åˆ’æ€§èƒ½æµ‹è¯•æ•°æ®å¹¶æ¦‚è¿°å°†è¦æ”¶é›†çš„åº¦é‡æ ‡å‡†æ˜¯å¿…è¦çš„ã€‚</p>
</li>
<li>
<p><strong>é…ç½®æµ‹è¯•ç¯å¢ƒ</strong>â€”â€” æ‰§è¡Œå‰å‡†å¤‡æµ‹è¯•ç¯å¢ƒã€‚åŒæ—¶ï¼Œå®‰æ’å·¥å…·å’Œå…¶ä»–èµ„æºã€‚</p>
</li>
<li>
<p><strong>æ‰§è¡Œæµ‹è¯•è®¾è®¡</strong> â€”â€” æ ¹æ®æµ‹è¯•è®¾è®¡åˆ›å»ºæ€§èƒ½æµ‹è¯•ã€‚</p>
</li>
<li>
<p><strong>è¿è¡Œæµ‹è¯•</strong> &ndash; æ‰§è¡Œå’Œç›‘è§†æµ‹è¯•ã€‚</p>
</li>
<li>
<p>åˆ†æï¼Œè°ƒæ•´å’Œé‡æ–°æµ‹è¯•-åˆå¹¶ï¼Œåˆ†æå’Œå…±äº«æµ‹è¯•ç»“æœã€‚ç„¶åè¿›è¡Œå¾®è°ƒå¹¶å†æ¬¡æµ‹è¯•ï¼Œçœ‹çœ‹æ€§èƒ½æ˜¯å¦æœ‰æ”¹å–„æˆ–ä¸‹é™ã€‚ç”±äºæ¯æ¬¡é‡æ–°æµ‹è¯•çš„æ”¹è¿›é€šå¸¸éƒ½ä¼šå˜å°ï¼Œæ‰€ä»¥å½“ç“¶é¢ˆæ˜¯ç”± CPU å¼•èµ·æ—¶å°±åœæ­¢ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥è€ƒè™‘å¢åŠ  CPU åŠŸç‡ã€‚</p>
</li>
</ol>
<h2 id="æ€§èƒ½æµ‹è¯•æŒ‡æ ‡å‚æ•°ç›‘æµ‹">æ€§èƒ½æµ‹è¯•æŒ‡æ ‡ï¼šå‚æ•°ç›‘æµ‹</h2>
<p></p>
<p>åœ¨æ€§èƒ½æµ‹è¯•æœŸé—´ç›‘è§†çš„åŸºæœ¬å‚æ•°åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>å¤„ç†å™¨ä½¿ç”¨ (Processor Usage)</strong>â€”â€”å¤„ç†å™¨æ‰§è¡Œéç©ºé—²çº¿ç¨‹æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚</li>
<li><strong>å†…å­˜ä½¿ç”¨ (Memory use)</strong>â€”â€”è®¡ç®—æœºä¸Šè¿›ç¨‹å¯ç”¨çš„ç‰©ç†å†…å­˜æ€»é‡ã€‚</li>
<li><strong>ç£ç›˜æ—¶é—´ (Disk time)</strong>â€”â€”ç£ç›˜å¿™äºæ‰§è¡Œè¯»æˆ–å†™è¯·æ±‚çš„æ—¶é—´ã€‚</li>
<li><strong>å¸¦å®½ (Bandwidth)</strong>â€”â€”æ˜¾ç¤ºä¸€ä¸ªç½‘ç»œæ¥å£æ¯ç§’ä½¿ç”¨çš„æ¯”ç‰¹æ•°ã€‚</li>
<li><strong>ç§æœ‰å­—èŠ‚æ•° (Private bytes)</strong>â€”â€”ä¸€ä¸ªè¿›ç¨‹åˆ†é…çš„ä¸èƒ½è¢«å…¶ä»–è¿›ç¨‹å…±äº«çš„å­—èŠ‚æ•°ã€‚å®ƒä»¬ç”¨äºæµ‹é‡å†…å­˜æ³„æ¼å’Œä½¿ç”¨æƒ…å†µã€‚</li>
<li><strong>å·²æäº¤å†…å­˜é‡ (Committed memory)</strong>â€”â€”ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜é‡ã€‚</li>
<li><strong>å†…å­˜é¡µæ•°/ç§’ (Memory pages/second)</strong>&ndash;å†™å…¥ç£ç›˜æˆ–ä»ç£ç›˜è¯»å–ä»¥è§£å†³ç¡¬é¡µé”™è¯¯çš„é¡µæ•°ã€‚ ç¡¬é¡µé”™è¯¯æ˜¯æŒ‡ä»å…¶ä»–ä½ç½®è°ƒç”¨ä¸æ˜¯æ¥è‡ªå½“å‰å·¥ä½œé›†çš„ä»£ç å¹¶ä»ç£ç›˜ä¸­æ£€ç´¢åˆ°çš„ä»£ç ã€‚</li>
<li><strong>é¡µé¢æ•…éšœæ•°/ç§’ (Page faults/second)</strong>â€”&ndash;å¤„ç†å™¨å¤„ç†æ•…éšœé¡µé¢çš„æ€»é€Ÿç‡ã€‚ å½“æµç¨‹éœ€è¦æ¥è‡ªå…¶å·¥ä½œé›†ä¹‹å¤–çš„ä»£ç æ—¶ï¼Œä¼šå†æ¬¡å‘ç”Ÿè¿™ç§æƒ…å†µã€‚</li>
<li><strong>CPU æ¯ç§’ä¸­æ–­æ•° (CPU interrupts per second)</strong>â€”â€”â€”æ˜¯ä¸€ä¸ªå¤„ç†å™¨æ¯ç§’æ¥æ”¶å’Œå¤„ç†çš„ç¡¬ä»¶ä¸­æ–­æ•°çš„å¹³å‡å€¼ã€‚</li>
<li><strong>ç£ç›˜é˜Ÿåˆ—é•¿åº¦ (Disk queue length)</strong>&ndash;ä¸ºå¹³å‡é•¿åº¦ã€‚åœ¨é‡‡æ ·é—´éš”å†…å¯¹é€‰å®šç£ç›˜æ’é˜Ÿçš„è¯»å’Œå†™è¯·æ±‚çš„å€¼ã€‚</li>
<li><strong>ç½‘ç»œè¾“å‡ºé˜Ÿåˆ—é•¿åº¦ (Network output queue length)</strong>â€”â€”æŠ¥æ–‡è¾“å‡ºé˜Ÿåˆ—çš„é•¿åº¦ã€‚å¦‚æœè¶…è¿‡ä¸¤ä¸ªï¼Œå°±æ„å‘³ç€éœ€è¦åœæ­¢å»¶è¯¯å’Œç“¶é¢ˆã€‚</li>
<li><strong>ç½‘ç»œå­—èŠ‚æ¯ç§’æ€»æ•° (Network bytes total per second)</strong>â€”â€”åœ¨æ¥å£ä¸Šå‘é€å’Œæ¥æ”¶çš„å­—èŠ‚çš„é€Ÿç‡ï¼ŒåŒ…æ‹¬åˆ†å¸§å­—ç¬¦ã€‚</li>
<li><strong>å“åº”æ—¶é—´ (Response time)</strong>â€”â€”ä»ç”¨æˆ·è¾“å…¥è¯·æ±‚åˆ°æ”¶åˆ°å“åº”çš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„æ—¶é—´ã€‚</li>
<li><strong>ååé‡ (Throughput)</strong>&ndash;è®¡ç®—æœºæˆ–ç½‘ç»œæ¯ç§’æ¥æ”¶è¯·æ±‚çš„é€Ÿç‡ã€‚</li>
<li><strong>è¿æ¥æ± çš„æ•°é‡ (Amount of connection pooling)</strong>&ndash;æ± è¿æ¥æ‰€æ»¡è¶³çš„ç”¨æˆ·è¯·æ±‚çš„æ•°é‡ã€‚æ± ä¸­çš„è¿æ¥æ»¡è¶³çš„è¯·æ±‚è¶Šå¤šï¼Œæ€§èƒ½å°±è¶Šå¥½ã€‚</li>
<li><strong>æœ€å¤§æ¿€æ´»ä¼šè¯æ•° (Maximum active sessions)</strong>&ndash;æ¬¡å¯ä»¥æ¿€æ´»çš„æœ€å¤§ä¼šè¯æ•°ã€‚</li>
<li><strong>å‘½ä¸­ç‡ (Hit ratios)</strong>â€”â€”è¿™ä¸ç¼“å­˜æ•°æ®å¤„ç† SQL è¯­å¥çš„æ•°é‡æœ‰å…³ï¼Œè€Œä¸æ˜¯æ˜‚è´µçš„ I/O æ“ä½œã€‚è¿™æ˜¯è§£å†³ç“¶é¢ˆé—®é¢˜çš„å¥½èµ·ç‚¹ã€‚</li>
<li><strong>æ¯ç§’ç‚¹å‡»æ¬¡æ•° (Hits per second)</strong>&ndash;åœ¨è´Ÿè½½æµ‹è¯•ä¸­ï¼Œæ¯ç§’é’Ÿåœ¨ web æœåŠ¡å™¨ä¸Šçš„ç‚¹å‡»é‡ã€‚</li>
<li><strong>å›æ»šæ®µ (Rollback segment)</strong>â€”â€”åœ¨ä»»ä½•æ—¶é—´ç‚¹éƒ½å¯ä»¥å›æ»šçš„æ•°æ®é‡ã€‚</li>
<li><strong>æ•°æ®åº“é”å®š (Database locks)</strong>â€”â€”è¡¨å’Œæ•°æ®åº“çš„é”å®šéœ€è¦è¢«ç›‘è§†å’Œä»”ç»†è°ƒä¼˜ã€‚</li>
<li><strong>é¡¶çº§ç­‰å¾… (Top waits)</strong>â€”â€”ç›‘è§†ä»¥ç¡®å®šåœ¨å¤„ç†ä»å†…å­˜æ£€ç´¢æ•°æ®çš„é€Ÿåº¦æ—¶å¯ä»¥å‡å°‘å“ªäº›ç­‰å¾…æ—¶é—´</li>
<li><strong>çº¿ç¨‹è®¡æ•° (Thread counts)</strong>â€”â€”åº”ç”¨ç¨‹åºè¿è¡ŒçŠ¶å†µå¯ä»¥é€šè¿‡ç¼–å·è¿›è¡Œåº¦é‡ã€‚æ­£åœ¨è¿è¡Œä¸”å½“å‰å¤„äºæ´»åŠ¨çŠ¶æ€çš„çº¿ç¨‹ã€‚</li>
<li><strong>åƒåœ¾å›æ”¶ (Garbage collectio)</strong>â€”â€”å®ƒä¸å°†æœªä½¿ç”¨çš„å†…å­˜è¿”å›ç»™ç³»ç»Ÿæœ‰å…³ã€‚éœ€è¦ç›‘æ§åƒåœ¾æ”¶é›†çš„æ•ˆç‡ã€‚</li>
</ul>
<h2 id="æ€§èƒ½æµ‹è¯•æ¡ˆä¾‹">æ€§èƒ½æµ‹è¯•æ¡ˆä¾‹</h2>
<ul>
<li>å½“ 1000 ä¸ªç”¨æˆ·åŒæ—¶è®¿é—®ç½‘ç«™æ—¶ï¼ŒéªŒè¯å“åº”æ—¶é—´ä¸è¶…è¿‡ 4 ç§’ã€‚</li>
<li>å½“ç½‘ç»œè¿æ¥è¾ƒæ…¢æ—¶ï¼ŒéªŒè¯è´Ÿè½½ä¸‹åº”ç”¨ç¨‹åºçš„å“åº”æ—¶é—´åœ¨å¯æ¥å—çš„èŒƒå›´å†…</li>
<li>æ£€æŸ¥åº”ç”¨ç¨‹åºåœ¨å´©æºƒå‰å¯ä»¥å¤„ç†çš„æœ€å¤§ç”¨æˆ·æ•°ã€‚</li>
<li>å½“åŒæ—¶è¯»å†™ 500 æ¡è®°å½•æ—¶ï¼Œè¯·æ£€æŸ¥æ•°æ®åº“æ‰§è¡Œæ—¶é—´ã€‚</li>
<li>æ£€æŸ¥é«˜å³°è´Ÿè½½æ¡ä»¶ä¸‹åº”ç”¨ç¨‹åºå’Œæ•°æ®åº“æœåŠ¡å™¨çš„ CPU å’Œå†…å­˜ä½¿ç”¨æƒ…å†µ</li>
<li>éªŒè¯åº”ç”¨ç¨‹åºåœ¨ä½ã€æ­£å¸¸ã€ä¸­ç­‰å’Œé«˜è´Ÿè½½æ¡ä»¶ä¸‹çš„å“åº”æ—¶é—´ã€‚</li>
</ul>
<p>åœ¨å®é™…çš„æ€§èƒ½æµ‹è¯•æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ¨¡ç³Šçš„æœ¯è¯­å¦‚å¯æ¥å—èŒƒå›´ã€é‡è½½ç­‰è¢«å…·ä½“çš„æ•°å­—æ‰€å–ä»£ã€‚æ€§èƒ½å·¥ç¨‹å¸ˆæ ¹æ®ä¸šåŠ¡éœ€æ±‚å’Œåº”ç”¨ç¨‹åºçš„æŠ€æœ¯å‰æ™¯æ¥è®¾ç½®è¿™äº›æ•°å­—ã€‚</p>
<h2 id="æ€§èƒ½æµ‹è¯•å·¥å…·">æ€§èƒ½æµ‹è¯•å·¥å…·</h2>
<p>å¸‚åœºä¸Šæœ‰å„ç§å„æ ·çš„æ€§èƒ½æµ‹è¯•å·¥å…·ã€‚æ‚¨é€‰æ‹©çš„æµ‹è¯•å·¥å…·å°†å–å†³äºè®¸å¤šå› ç´ ï¼Œå¦‚æ”¯æŒçš„åè®®ç±»å‹ã€è®¸å¯è¯æˆæœ¬ã€ç¡¬ä»¶è¦æ±‚ã€å¹³å°æ”¯æŒç­‰ã€‚ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„æµ‹è¯•å·¥å…·ã€‚</p>
<ul>
<li><em><a href="https://bit.ly/2W4Ytu5">LoadNinja</a><sup>[1]</sup>
</em> æ˜¯ä¸€ä¸ªé©å‘½æ€§çš„åŠ è½½æµ‹è¯•çš„æ–¹å¼çš„å·¥å…·ã€‚è¿™ä¸ªåŸºäºäº‘çš„è´Ÿè½½æµ‹è¯•å·¥å…·ä½¿å›¢é˜Ÿèƒ½å¤Ÿè®°å½•å’Œå³æ—¶å›æ”¾å…¨é¢çš„è´Ÿè½½æµ‹è¯•ï¼Œæ— éœ€å¤æ‚çš„åŠ¨æ€å…³è”ï¼Œå¹¶åœ¨çœŸå®çš„æµè§ˆå™¨ä¸­å¤§è§„æ¨¡è¿è¡Œè¿™äº›è´Ÿè½½æµ‹è¯•ã€‚å›¢é˜Ÿèƒ½å¤Ÿå¢åŠ æµ‹è¯•è¦†ç›–ç‡ã€‚å°†è´Ÿè½½æµ‹è¯•æ—¶é—´å‡å°‘ 60%ä»¥ä¸Šã€‚</li>
<li><em><a href="https://www.guru99.com/loadrunner-v12-tutorials.html">HP LoadRunner</a><sup>[2]</sup>
</em> -æ˜¯å½“ä»Šå¸‚åœºä¸Šæœ€æµè¡Œçš„æ€§èƒ½æµ‹è¯•å·¥å…·ã€‚è¯¥å·¥å…·èƒ½å¤Ÿæ¨¡æ‹Ÿæˆåƒä¸Šä¸‡çš„ç”¨æˆ·ï¼Œå°†åº”ç”¨ç¨‹åºç½®äºçœŸå®çš„è´Ÿè½½ä¸‹ï¼Œä»¥ç¡®å®šå®ƒä»¬åœ¨é¢„æœŸè´Ÿè½½ä¸‹çš„è¡Œä¸ºã€‚Loadrunner æœ‰ä¸€ä¸ªè™šæ‹Ÿç”¨æˆ·ç”Ÿæˆå™¨ï¼Œå¯ä»¥æ¨¡æ‹ŸçœŸäººç”¨æˆ·çš„åŠ¨ä½œã€‚</li>
<li><em><a href="https://www.guru99.com/jmeter-tutorials.html">Jmeter</a><sup>[3]</sup>
</em> â€”â€”ç”¨äº web å’Œåº”ç”¨æœåŠ¡å™¨è´Ÿè½½æµ‹è¯•çš„ä¸»è¦å·¥å…·ä¹‹ä¸€ã€‚</li>
</ul>
<h2 id="faq">FAQ</h2>
<h3 id="æˆ‘ä»¬åº”è¯¥å¯¹å“ªäº›åº”ç”¨ç¨‹åºè¿›è¡Œæ€§èƒ½æµ‹è¯•">æˆ‘ä»¬åº”è¯¥å¯¹å“ªäº›åº”ç”¨ç¨‹åºè¿›è¡Œæ€§èƒ½æµ‹è¯•ï¼Ÿ</h3>
<p>æ€§èƒ½æµ‹è¯•æ€»æ˜¯åªé’ˆå¯¹åŸºäºå®¢æˆ·æœº-æœåŠ¡å™¨çš„ç³»ç»Ÿã€‚è¿™æ„å‘³ç€ï¼Œä»»ä½•ä¸æ˜¯åŸºäºå®¢æˆ·æœº-æœåŠ¡å™¨æ¶æ„çš„åº”ç”¨ç¨‹åºéƒ½ä¸éœ€è¦æ€§èƒ½æµ‹è¯•ã€‚
ä¾‹å¦‚ï¼Œå¾®è½¯è®¡ç®—å™¨æ—¢ä¸æ˜¯åŸºäºå®¢æˆ·æœº-æœåŠ¡å™¨ï¼Œä¹Ÿä¸æ˜¯è¿è¡Œå¤šä¸ªç”¨æˆ·ï¼›å› æ­¤ï¼Œå®ƒä¸æ˜¯æ€§èƒ½æµ‹è¯•çš„å€™é€‰å¯¹è±¡ã€‚
</p>
<h3 id="æ€§èƒ½æµ‹è¯•å’Œæ€§èƒ½å·¥ç¨‹çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ">æ€§èƒ½æµ‹è¯•å’Œæ€§èƒ½å·¥ç¨‹çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ</h3>
<p>ç†è§£æ€§èƒ½æµ‹è¯•ä¸æ€§èƒ½å·¥ç¨‹çš„åŒºåˆ«å…·æœ‰é‡è¦æ„ä¹‰ã€‚è¾¾æˆä»¥ä¸‹å…±è¯†ï¼š</p>
<ul>
<li>æ€§èƒ½æµ‹è¯•æ˜¯ä¸€é—¨ä¸æµ‹è¯•å’ŒæŠ¥å‘Šè½¯ä»¶åº”ç”¨ç¨‹åºåœ¨å„ç§å‚æ•°ä¸‹çš„å½“å‰æ€§èƒ½æœ‰å…³çš„å­¦ç§‘ã€‚</li>
<li>æ€§èƒ½å·¥ç¨‹æ˜¯ä¸ºäº†å®ç°æ‰€éœ€çš„æ€§èƒ½è€Œå¯¹è½¯ä»¶è¿›è¡Œæµ‹è¯•å’Œè°ƒä¼˜çš„è¿‡ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹æ—¨åœ¨ä¼˜åŒ–æœ€é‡è¦çš„åº”ç”¨æ€§èƒ½ç‰¹å¾ï¼Œå³ç”¨æˆ·ä½“éªŒã€‚</li>
<li>ä»å†å²ä¸Šçœ‹ï¼Œæµ‹è¯•å’Œè°ƒä¼˜ä¸€ç›´æ˜¯æˆªç„¶åˆ†å¼€çš„ã€ç»å¸¸ç›¸äº’ç«äº‰çš„é¢†åŸŸã€‚ç„¶è€Œï¼Œåœ¨è¿‡å»çš„å‡ å¹´é‡Œï¼Œä¸€äº›æµ‹è¯•äººå‘˜å’Œå¼€å‘äººå‘˜å·²ç»ç‹¬ç«‹åˆä½œåˆ›å»ºäº†è°ƒä¼˜å›¢é˜Ÿã€‚ç”±äºè¿™äº›å›¢é˜Ÿå·²ç»å–å¾—äº†å·¨å¤§çš„æˆåŠŸï¼Œå°†æ€§èƒ½æµ‹è¯•ä¸æ€§èƒ½è°ƒä¼˜ç›¸ç»“åˆçš„æ¦‚å¿µå·²ç»æµè¡Œèµ·æ¥ï¼Œç°åœ¨æˆ‘ä»¬ç§°ä¹‹ä¸ºæ€§èƒ½å·¥ç¨‹ã€‚</li>
</ul>
<h2 id="ç»“è®º">ç»“è®º</h2>
<p>åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œåœ¨ä»»ä½•è½¯ä»¶äº§å“ä¸Šå¸‚ä¹‹å‰ï¼Œæ€§èƒ½æµ‹è¯•éƒ½æ˜¯å¿…è¦çš„ã€‚å®ƒç¡®ä¿äº†å®¢æˆ·çš„æ»¡æ„åº¦ï¼Œä¿æŠ¤æŠ•èµ„è€…çš„æŠ•èµ„ä¸å—äº§å“å¤±è´¥çš„å½±å“ã€‚æ€§èƒ½æµ‹è¯•çš„æˆæœ¬é€šå¸¸å¯ä»¥é€šè¿‡æé«˜å®¢æˆ·æ»¡æ„åº¦ã€å¿ è¯šåº¦å’Œä¿ç•™åº¦æ¥å¼¥è¡¥ã€‚</p>
<div class="references">
                <h2>å‚è€ƒ</h2>
                <ol><li>LoadNinja: <a href="https://bit.ly/2W4Ytu5" rel="noopener noreferrer">https://bit.ly/2W4Ytu5</a></li><li>HP LoadRunner: <a href="https://www.guru99.com/loadrunner-v12-tutorials.html" rel="noopener noreferrer">https://www.guru99.com/loadrunner-v12-tutorials.html</a></li><li>Jmeter: <a href="https://www.guru99.com/jmeter-tutorials.html" rel="noopener noreferrer">https://www.guru99.com/jmeter-tutorials.html</a></li></ol>
            </div>]]></description></item></channel></rss>