<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>Yarn - æ ‡ç­¾ - è°·ä¸­ä»çš„åšå®¢</title><link>https://guzhongren.github.io/tags/yarn/</link><description>Yarn - æ ‡ç­¾ - è°·ä¸­ä»çš„åšå®¢</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>guzhongren@live.cn (è°·ä¸­ä»)</managingEditor><webMaster>guzhongren@live.cn (è°·ä¸­ä»)</webMaster><copyright>Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Thu, 05 Mar 2020 22:45:03 +0800</lastBuildDate><atom:link href="https://guzhongren.github.io/tags/yarn/" rel="self" type="application/rss+xml"/><item><title>Config Yarn to Use Private Package</title><link>https://guzhongren.github.io/2020/03/config-yarn-to-use-private-package.zh/</link><pubDate>Thu, 05 Mar 2020 22:45:03 +0800</pubDate><author>è°·ä¸­ä»</author><guid>https://guzhongren.github.io/2020/03/config-yarn-to-use-private-package.zh/</guid><description><![CDATA[<p></p>
<h2 id="åœºæ™¯">åœºæ™¯</h2>
<p>åœ¨å…¬ç½‘ä¸Šæˆ‘ä»¬è·å– npm åŒ…çš„æ—¶å€™ç›´æ¥å°±ç”¨ä¸‹é¢çš„å‘½ä»¤å°±å¯ä»¥äº†</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ npm install xxx
</span></span><span class="line"><span class="cl">$ <span class="c1"># æˆ–è€…</span>
</span></span><span class="line"><span class="cl"><span class="c1"># yarn add xxx</span></span></span></code></pre></div></div>
<p>ä½†æ˜¯æœ‰æ—¶å€™ï¼Œå…¬å¸å†…éƒ¨å¼€å‘çš„å·¥å…·åº“åªæƒ³æ”¾åœ¨å…¬å¸å†…éƒ¨çš„æœåŠ¡å™¨ä¸Šï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦å¯¹ npm æºè¿›è¡Œé…ç½®äº†ã€‚å› ä¸º yarn å¯ä»¥åˆ©ç”¨ç¼“å­˜ï¼Œå…¶é€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œä¸” npm åŒ…æ˜¯å…¬å¸å†…éƒ¨ç½‘ç»œï¼Œé‰´äºæ•ˆç‡ï¼Œæˆ‘ä»¬é‡‡ç”¨ yarn æ¥æé€Ÿã€‚</p>
<h2 id="é…ç½®npmrc">é…ç½®ã€‚npmrc</h2>
<p>ä¸‹é¢æ˜¯ .npmrc çš„é€šå¸¸é…ç½®ï¼Œ è¿™é‡Œçš„ <code>https://npm.xxx.com/npm</code> å°±æ˜¯ç§æœçš„åœ°å€ï¼Œ ä¸‹é¢<code>//</code>å¼€å¤´çš„å†…å®¹å°±æ˜¯ç”¨æ¥é‰´æƒçš„ tokenã€‚</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># .npmrc</span>
</span></span><span class="line"><span class="cl"><span class="nv">registry</span><span class="o">=</span>https://npm.xxx.com/npm
</span></span><span class="line"><span class="cl">//npm.xxx.com/npm/:_authToken<span class="o">=</span>dbef52be-1a83-46e1-a3ce-e0c8727e3fa4</span></span></code></pre></div></div>
<p>ä¸Šé¢çš„é…ç½®ï¼Œåœ¨ç”¨ npm å®‰è£…ç§æœ‰åº“æˆ–è€…å…¬æœ‰åº“çš„æ—¶å€™éƒ½æ²¡é—®é¢˜ï¼Œä½†æ˜¯æˆ‘ä»¬è¦ä½¿ç”¨ yarnï¼Œå¦‚æœå†ä¸é…ç½®ä»»ä½•å†…å®¹ï¼Œåœ¨æ‰§è¡Œ <code>yarn add xxx</code> çš„æ—¶å€™ï¼Œæ§åˆ¶å°ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">yarn global v1.22.0
</span></span><span class="line"><span class="cl"><span class="o">[</span>1/4<span class="o">]</span> ğŸ”  Resolving packages...
</span></span><span class="line"><span class="cl">error An unexpected error occurred: <span class="s2">&#34;https://npm.xxx.com/npm/yyy: authentication required&#34;</span>.
</span></span><span class="line"><span class="cl">info If you think this is a bug, please open a bug report with the information provided in <span class="s2">&#34;/Users/zhongren.gu/.config/yarn/global/yarn-error.log&#34;</span>.
</span></span><span class="line"><span class="cl">info Visit https://yarnpkg.com/en/docs/cli/global <span class="k">for</span> documentation about this command.</span></span></code></pre></div></div>
<p>è¿™å…¶å®ä¸æ˜¯ <code>yarn</code> çš„ bug, æˆ‘ä»¬éœ€è¦åœ¨ .npmrc ä¸­å¢åŠ å¦‚ä¸‹ä¸€è¡Œ <code>always-auth=true</code>, æœ€ç»ˆç»“æœå¦‚ä¸‹</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># .npmrc</span>
</span></span><span class="line"><span class="cl"><span class="nv">registry</span><span class="o">=</span>https://npm.xxx.com/npm
</span></span><span class="line"><span class="cl">//npm.xxx.com/npm/:_authToken<span class="o">=</span>dbef52be-1a83-46e1-a3ce-e0c8727e3fa4
</span></span><span class="line"><span class="cl">always-auth<span class="o">=</span>true</span></span></code></pre></div></div>
<h2 id="ç»“æœ">ç»“æœ</h2>
<p>å†æ¬¡æ‰§è¡Œ <code>yarn add xxx</code> ä¹‹åå°±ä¼šæ­£å¸¸å®‰è£…äº†ï¼Œä»¥åå°±å¯ä»¥æ„‰å¿«çš„å®‰è£…ç§æœæˆ–è€…å…¬ç½‘ä¸Šçš„ package äº†ã€‚</p>
]]></description></item></channel></rss>