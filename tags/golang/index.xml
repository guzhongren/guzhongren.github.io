<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>Golang - æ ‡ç­¾ - è°·ä¸­ä»çš„åšå®¢</title><link>https://guzhongren.github.io/tags/golang/</link><description>Golang - æ ‡ç­¾ - è°·ä¸­ä»çš„åšå®¢</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>guzhongren@live.cn (è°·ä¸­ä»)</managingEditor><webMaster>guzhongren@live.cn (è°·ä¸­ä»)</webMaster><copyright>Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Tue, 10 Sep 2019 10:52:24 +0800</lastBuildDate><atom:link href="https://guzhongren.github.io/tags/golang/" rel="self" type="application/rss+xml"/><item><title>Golang ä¾èµ–æ³¨å…¥ (Dependency Injection)</title><link>https://guzhongren.github.io/2019/09/golang-%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5dependency-injection.zh/</link><pubDate>Tue, 10 Sep 2019 10:52:24 +0800</pubDate><author>è°·ä¸­ä»</author><guid>https://guzhongren.github.io/2019/09/golang-%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5dependency-injection.zh/</guid><description><![CDATA[<div class="featured-image">
                <img src="https://golang.google.cn/lib/godoc/images/footer-gopher.jpg" referrerpolicy="no-referrer">
            </div><h1 id="dependency-injection-">Dependency Injection ğŸ§ª</h1>
<p>ä¾èµ–æ³¨å…¥æ˜¯ç›®å‰å¾ˆå¤šä¼˜ç§€æ¡†æ¶éƒ½åœ¨ä½¿ç”¨çš„ä¸€ä¸ªè®¾è®¡æ¨¡å¼ã€‚
Dependency Injection å¸¸å¸¸ç®€ç§°ä¸ºï¼šDIã€‚å®ƒæ˜¯å®ç°æ§åˆ¶åè½¬ï¼ˆInversion of Control â€“ IoCï¼‰çš„ä¸€ä¸ªæ¨¡å¼ã€‚</p>
<p>åœ¨å„ç§å¤§å·¥ç¨‹ä¸­å°‘ä¸äº†å„ç§æµ‹è¯•ï¼Œå…¶ä¸­ TDD å°±æ˜¯éå¸¸æµè¡Œçš„ä¸€ç§ï¼Œåœ¨å‰ç«¯å¼€å‘ä¸­ç”¨çš„æ¯”è¾ƒå¤šçš„ <a href="https://github.com/facebook/jest">Jest</a><sup>[1]</sup>
 å°±æ˜¯ä¸€ç§ï¼Œåœ¨ Golang å¼€å‘å‘½ä»¤è¡Œå·¥å…·çš„æ—¶å€™ä¹Ÿæ˜¯éœ€è¦ DI è¿™ç§æ¨¡å¼æ¥å®ç°å‘½ä»¤è¡Œæµ‹è¯•çš„ã€‚å› ä¸ºä¼ ç»Ÿçš„æµ‹è¯•å®¤è·å–ä¸åˆ°å‘½ä»¤è¡Œçš„è¾“å…¥è¾“å‡ºçš„ã€‚</p>
<h2 id="å·¥ç¨‹æ„å›¾">å·¥ç¨‹æ„å›¾</h2>
<p>ä»“åº“ï¼š<a href="https://github.com/guzhongren/TDD/tree/master/10.dependency-injection">https://github.com/guzhongren/TDD/tree/master/10.dependency-injection</a><sup>[2]</sup>

ç¼–å†™ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·åº“ï¼Œæ‰“åŒ…å¹¶è¿è¡Œç¨‹åºï¼Œæ ¹æ®å·¥å…·åç§°åé¢çš„åç§°æ¥æ˜¾ç¤º <code>'Hello, + åç§°'</code>ã€‚</p>
<h2 id="ç®€åŒ–ç¨‹åº">ç®€åŒ–ç¨‹åº</h2>
<p>æˆ‘ä»¬çŸ¥é“ golang æ‰“åŒ…åå°±æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºï¼Œç¨‹åºåç§°æ ¹æ®ä½ æŒ‡å®šçš„åç§°æ˜¾ç¤ºï¼Œé‚£ä¹ˆè¦å®ç°è¿™ä¸ªå·¥å…·å°±æ˜¯éœ€è¦æ¥æ”¶åˆ°ç¨‹åºååé¢çš„å‚æ•°å¹¶æ˜¾ç¤ºå‡ºæ¥ã€‚ä½†æœ¬æ¬¡çš„é‡ç‚¹æ˜¯å®ç° DI, æ‰€ä»¥æˆ‘ä»¬å°†é‡ç‚¹æ”¾åœ¨å‘½ä»¤è¡Œçš„æµ‹è¯•ä¸å®ç°ä¸Šã€‚
æˆ‘ä»¬åªå®ç° Greet å‡½æ•°çš„ DI å°±å¯ä»¥äº†ã€‚</p>
<h2 id="åˆå§‹åŒ–å·¥ç¨‹">åˆå§‹åŒ–å·¥ç¨‹</h2>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">go mod init dependency-injection</span></span></code></pre></div></div>
<p>æŒ‰ç…§æƒ¯ä¾‹ï¼Œæµ‹è¯•çš„å‡½æ•°éœ€è¦ä»¥ Test å¼€å¤´ï¼Œå‚æ•°ä¸º *testing.T ç±»å‹</p>
<h2 id="test">Test</h2>
<ul>
<li>æµ‹è¯•å…ˆè¡Œ</li>
</ul>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-go">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">TestGreet</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ç”³æ˜ bufferï¼Œå‡†å¤‡æ¥å—æ•°æ®ï¼Œ å› ä¸º bytes.Bufferï¼Œ é‡ç‚¹ï¼šbytes.Buffer å®ç°äº† io.Writer
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">buffer</span> <span class="o">:=</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">Buffer</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// å°† buffer ä¼ å…¥ï¼Œæ­¤æ—¶å°±æ˜¯ä¾èµ–æ³¨å…¥çš„å…¥å£ï¼Œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">Greet</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">buffer</span><span class="p">,</span> <span class="s">&#34;chris&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// è·å–ç¨‹åºè¿è¡Œçš„ç»“æœ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">got</span> <span class="o">:=</span> <span class="nx">buffer</span><span class="p">.</span><span class="nf">String</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// æœŸæœ›å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">want</span> <span class="o">:=</span> <span class="s">&#34;Hello, chris&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// æµ‹è¯•åˆ¤æ–­
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">if</span> <span class="nx">got</span> <span class="o">!=</span> <span class="nx">want</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">t</span><span class="p">.</span><span class="nf">Errorf</span><span class="p">(</span><span class="s">`got %s, want %s`</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div>
<ul>
<li>
<p>è¿è¡Œ <strong>go test</strong>, ç¨‹åºä¼šæŠ¥é”™ï¼Œå› ä¸ºæ²¡æœ‰å®ç° Greet å‡½æ•°ã€‚</p>
</li>
<li>
<p>æœ€å°åŒ–çš„å®ç° Repeat</p>
</li>
</ul>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-go">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// Greet æ‰“å°é—®å€™
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">Greet</span><span class="p">(</span><span class="nx">w</span> <span class="nx">io</span><span class="p">.</span><span class="nx">Writer</span><span class="p">,</span> <span class="nx">name</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Fprintf</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span> <span class="s">&#34;Hello, &#34;</span><span class="o">+</span><span class="nx">name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div>
<p>é‡ç‚¹è¯´æ˜ï¼Œå‘½ä»¤è¡Œçš„æµ‹è¯•éœ€è¦å°†ç»“æœæ‰“å°åœ¨å‘½ä»¤è¡Œçª—å£ä¸­ï¼Œå¦‚æœæ²¡æœ‰æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ fmt.Printf ç­‰æ‰“å°å‡½æ•°å°†ç»“æœæ‰“å°å‡ºæ¥ï¼Œä½†æ˜¯ï¼Œ
æµ‹è¯•éœ€è¦æ‹¿åˆ°æ‰“å°çš„å†…å®¹ï¼Œå°±éœ€è¦å°†å†…å®¹ç”¨æ ‡å‡†è¾“å‡ºï¼›å½“ç„¶å¯ä»¥å˜ç›¸çš„å…ˆç”¨å…¶ä»–æ‰“å°å‡½æ•°å°†ç»“æœæ‰“å°å‡ºæ¥ï¼Œç„¶åå†å°†ç»“æœ return å‡ºå»ï¼Œ
åœ¨æµ‹è¯•ä¸­ï¼Œæ¥å—è¿”å›å€¼ï¼Œå†æ¯”è¾ƒï¼›è¿™æ ·åšä¸æ ‡å‡†è€Œå·²ï¼Œå­¦äº†ä»Šå¤©å†…å®¹å…¶å®å°±å¯ä»¥ç”¨ DI æ¥è§£å†³äº†ã€‚</p>
<h2 id="è¿è¡Œæµ‹è¯•">è¿è¡Œæµ‹è¯•</h2>
<ul>
<li>åŸºæœ¬æµ‹è¯•</li>
</ul>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ go <span class="nb">test</span>
</span></span><span class="line"><span class="cl">PASS
</span></span><span class="line"><span class="cl">ok      dependency-injection    0.006s</span></span></code></pre></div></div>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>åŸºæœ¬æµ‹è¯•å¾ˆç®€å•ï¼Œä¸ç”¨è§£è¯»äº†ã€‚ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬åº”è¯¥ç”¨æœ€ç›´æ¥çš„å·¥å…·æ¥ä¿è¯æˆ‘ä»¬ç¨‹åºçš„å¥å£®æ€§ï¼Œè€Œä¸ä¸€å®šè¦ç»•ä¸ªå¼¯æ¥è§£å†³é—®é¢˜ï¼Œå¦‚ä¸Šé¢çš„æ‰“å°ç»“æœçš„æµ‹è¯•ã€‚</p>
<div class="references">
                <h2>å‚è€ƒ</h2>
                <ol><li>Jest: <a href="https://github.com/facebook/jest" rel="noopener noreferrer">https://github.com/facebook/jest</a></li><li>https://github.com/guzhongren/TDD/tree/master/10.dependency-injection: <a href="https://github.com/guzhongren/TDD/tree/master/10.dependency-injection" rel="noopener noreferrer">https://github.com/guzhongren/TDD/tree/master/10.dependency-injection</a></li></ol>
            </div>]]></description></item><item><title>Golang åŸºå‡†æµ‹è¯• (Benchmark)</title><link>https://guzhongren.github.io/2019/09/golang-%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95benchmark.zh/</link><pubDate>Tue, 10 Sep 2019 09:56:24 +0800</pubDate><author>è°·ä¸­ä»</author><guid>https://guzhongren.github.io/2019/09/golang-%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95benchmark.zh/</guid><description><![CDATA[<div class="featured-image">
                <img src="https://golang.google.cn/lib/godoc/images/footer-gopher.jpg" referrerpolicy="no-referrer">
            </div><h1 id="benchmark-">Benchmark ğŸ§ª</h1>
<blockquote>
<p>åŸºå‡†æµ‹è¯•æ˜¯å¯¹è®¡ç®—æœºç³»ç»Ÿçš„æ€§èƒ½çš„æµ‹è¯•ã€‚</p>
</blockquote>
<p>åœ¨ç¨‹åºä¸­ï¼ŒåŸºå‡†æµ‹è¯•ï¼Œæ˜¯ä¸€ç§æµ‹è¯•ä»£ç æ€§èƒ½çš„æ–¹æ³•ï¼›æ¯”å¦‚æœ‰ä¸€ä¸ªé—®é¢˜ä½ æœ‰å¤šç§ä¸åŒçš„æ–¹æ¡ˆï¼Œä½ æƒ³é€‰æ‹©ä¸€ç§æ€§èƒ½æœ€å¥½çš„æ–¹æ¡ˆï¼Œé‚£ä¹ˆä½ å°±éœ€è¦åŸºå‡†æµ‹è¯•ã€‚</p>
<blockquote>
<p>åŸºå‡†æµ‹è¯•ä¸»è¦æ˜¯é€šè¿‡æµ‹è¯• CPU å’Œå†…å­˜çš„æ•ˆç‡é—®é¢˜ï¼Œæ¥è¯„ä¼°è¢«æµ‹è¯•ä»£ç çš„æ€§èƒ½ï¼Œè¿›è€Œæ‰¾åˆ°æ›´å¥½çš„è§£å†³æ–¹æ¡ˆã€‚æ¯”å¦‚é“¾æ¥æ± çš„æ•°é‡ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œé‚£ä¹ˆå“ªä¸ªå€¼æ‰æ˜¯æœ€ä¼˜å€¼å‘¢ï¼Œè¿™å°±éœ€è¦é…åˆåŸºå‡†æµ‹è¯•ä¸æ–­è°ƒä¼˜äº†ã€‚</p>
</blockquote>
<h2 id="å·¥ç¨‹æ„å›¾">å·¥ç¨‹æ„å›¾</h2>
<p>ä»“åº“ï¼š <a href="https://github.com/guzhongren/TDD/tree/master/09.benchmar">https://github.com/guzhongren/TDD/tree/master/09.benchmar</a><sup>[1]</sup>
</p>
<p>æ ¹æ®è¾“å…¥çš„å­—ç¬¦ä¸²å’Œé‡å¤æ¬¡æ•°ï¼Œè¾“å‡ºé‡å¤æ¬¡æ•°åçš„å­—ç¬¦ä¸²ã€‚</p>
<h2 id="åˆå§‹åŒ–å·¥ç¨‹">åˆå§‹åŒ–å·¥ç¨‹</h2>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">go mod init benchmark</span></span></code></pre></div></div>
<p>æµ‹è¯•çš„å‡½æ•°éœ€è¦ä»¥ Test å¼€å¤´ï¼Œå‚æ•°ä¸º *testing.T ç±»å‹</p>
<h2 id="test">Test</h2>
<ul>
<li>æµ‹è¯•å…ˆè¡Œ</li>
</ul>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-go">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="err">#</span> <span class="nx">æµ‹è¯•</span> <span class="nx">Repeat</span> <span class="nx">å‡½æ•°</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">TestRepeat</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">actual</span> <span class="o">:=</span> <span class="nf">Repeat</span><span class="p">(</span><span class="s">`a`</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">expect</span> <span class="o">:=</span> <span class="s">`aaaaaa`</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">actual</span> <span class="o">!=</span> <span class="nx">expect</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">t</span><span class="p">.</span><span class="nf">Errorf</span><span class="p">(</span><span class="s">`expect %s, but got %s`</span><span class="p">,</span> <span class="nx">expect</span><span class="p">,</span> <span class="nx">actual</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div>
<ul>
<li>
<p>è¿è¡Œ <strong>go test</strong>, ç¨‹åºä¼šæŠ¥é”™ï¼Œå› ä¸ºæ²¡æœ‰å®ç° Repeat å‡½æ•°ã€‚</p>
</li>
<li>
<p>æœ€å°åŒ–çš„å®ç° Repeat</p>
</li>
</ul>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-go">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// Repeat return a string with same char
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">Repeat</span><span class="p">(</span><span class="nx">char</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">count</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="nx">result</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">count</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">result</span> <span class="o">+=</span> <span class="nx">char</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div>
<p>ä¸Šé¢çš„å‡½æ•°ä¸­ return å¹¶æ²¡æœ‰è¿”å›å€¼ï¼Œæ˜¯å› ä¸ºï¼Œåœ¨ Repeat å‡½æ•°çš„è¿”å›å€¼éƒ¨åˆ†æœ‰ä¸€ä¸ª resultï¼Œ
å½“è¿”å›å€¼æ˜¯å‡½æ•°ä½“é‡Œé¢çš„å€¼çš„æ—¶å€™ï¼Œå¯ä»¥ä¸ç”¨å†™è¿”å›å€¼ï¼Œgo ç¨‹åºè‡ªåŠ¨å°†è¯¥å€¼è¿”å›ã€‚ä½† return ä¾æ—§ä¸èƒ½çœç•¥ã€‚</p>
<h2 id="benchmark">Benchmark</h2>
<p>åŸºå‡†æµ‹è¯•çš„å‡½æ•°åé¡»ä»¥ Benchmark å¼€å¤´ï¼Œ å‚æ•°é¡»ä¸º *testing.Bï¼›å¾ªç¯ä¸­çš„ b.Nï¼Œ go ä¼šæ ¹æ®ç³»ç»Ÿæƒ…å†µç”Ÿæˆï¼Œä¸ç”¨ç”¨æˆ·è®¾å®šã€‚</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-go">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">BenchmarkRepeat</span><span class="p">(</span><span class="nx">b</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">B</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">b</span><span class="p">.</span><span class="nx">N</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nf">Repeat</span><span class="p">(</span><span class="s">`b`</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div>
<h2 id="è¿è¡Œæµ‹è¯•">è¿è¡Œæµ‹è¯•</h2>
<ul>
<li>åŸºæœ¬æµ‹è¯•</li>
</ul>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ go <span class="nb">test</span>
</span></span><span class="line"><span class="cl">PASS
</span></span><span class="line"><span class="cl">ok      benchmark       0.006s</span></span></code></pre></div></div>
<p>åŸºæœ¬æµ‹è¯•å¾ˆç®€å•ï¼Œä¸ç”¨è§£è¯»äº†ã€‚</p>
<ul>
<li>åŸºå‡†æµ‹è¯•</li>
</ul>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ go <span class="nb">test</span> -bench<span class="o">=</span>. -run<span class="o">=</span>none
</span></span><span class="line"><span class="cl">goos: darwin
</span></span><span class="line"><span class="cl">goarch: amd64
</span></span><span class="line"><span class="cl">pkg: benchmark
</span></span><span class="line"><span class="cl">BenchmarkRepeat-12      <span class="m">10000000</span>               <span class="m">116</span> ns/op
</span></span><span class="line"><span class="cl">PASS
</span></span><span class="line"><span class="cl">ok      benchmark       1.297s</span></span></code></pre></div></div>
<p>è¿è¡ŒåŸºå‡†æµ‹è¯•ä¹Ÿè¦ä½¿ç”¨ go test å‘½ä»¤ï¼Œä¸è¿‡æˆ‘ä»¬è¦åŠ ä¸Š-bench=æ ‡è®°ï¼Œå®ƒæ¥å—ä¸€ä¸ªè¡¨è¾¾å¼ä½œä¸ºå‚æ•°ï¼ŒåŒ¹é…åŸºå‡†æµ‹è¯•çš„å‡½æ•°ï¼Œ. è¡¨ç¤ºè¿è¡Œæ‰€æœ‰åŸºå‡†æµ‹è¯•ã€‚</p>
<p>å› ä¸ºé»˜è®¤æƒ…å†µä¸‹ go test ä¼šè¿è¡Œå•å…ƒæµ‹è¯•ï¼Œä¸ºäº†é˜²æ­¢å•å…ƒæµ‹è¯•çš„è¾“å‡ºå½±å“æˆ‘ä»¬æŸ¥çœ‹åŸºå‡†æµ‹è¯•çš„ç»“æœï¼Œå¯ä»¥ä½¿ç”¨-run=åŒ¹é…ä¸€ä¸ªä»æ¥æ²¡æœ‰çš„å•å…ƒæµ‹è¯•æ–¹æ³•ï¼Œè¿‡æ»¤æ‰å•å…ƒæµ‹è¯•çš„è¾“å‡ºï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨ noneï¼Œå› ä¸ºæˆ‘ä»¬åŸºæœ¬ä¸Šä¸ä¼šåˆ›å»ºè¿™ä¸ªåå­—çš„å•å…ƒæµ‹è¯•æ–¹æ³•ã€‚</p>
<p>ä¸‹é¢ç€é‡è§£é‡Šä¸‹è¯´å‡ºçš„ç»“æœï¼Œçœ‹åˆ°å‡½æ•°åé¢çš„-12 äº†å—ï¼Ÿè¿™ä¸ªè¡¨ç¤ºè¿è¡Œæ—¶å¯¹åº”çš„ GOMAXPROCS çš„å€¼ã€‚æ¥ç€çš„ 10000000 è¡¨ç¤ºè¿è¡Œ for å¾ªç¯çš„æ¬¡æ•°ï¼Œä¹Ÿå°±æ˜¯è°ƒç”¨è¢«æµ‹è¯•ä»£ç çš„æ¬¡æ•°ï¼Œæœ€åçš„ 116 ns/op è¡¨ç¤ºæ¯æ¬¡éœ€è¦è¯è´¹ 116 çº³ç§’ã€‚
ä»¥ä¸Šæ˜¯æµ‹è¯•æ—¶é—´é»˜è®¤æ˜¯ 1 ç§’ï¼Œä¹Ÿå°±æ˜¯ 1 ç§’çš„æ—¶é—´ï¼Œè°ƒç”¨ 10000000 æ¬¡ï¼Œæ¯æ¬¡è°ƒç”¨èŠ±è´¹ 116 çº³ç§’ã€‚å¦‚æœæƒ³è®©æµ‹è¯•è¿è¡Œçš„æ—¶é—´æ›´é•¿ï¼Œå¯ä»¥é€šè¿‡ -lunchtime æŒ‡å®šï¼Œæ¯”å¦‚ 5 ç§’ã€‚</p>
<div class="references">
                <h2>å‚è€ƒ</h2>
                <ol><li>https://github.com/guzhongren/TDD/tree/master/09.benchmar: <a href="https://github.com/guzhongren/TDD/tree/master/09.benchmar" rel="noopener noreferrer">https://github.com/guzhongren/TDD/tree/master/09.benchmar</a></li></ol>
            </div>]]></description></item><item><title>Golang With SQLLite Practice</title><link>https://guzhongren.github.io/2019/09/golang-with-sqllite-practice.zh/</link><pubDate>Sun, 01 Sep 2019 10:56:39 +0800</pubDate><author>è°·ä¸­ä»</author><guid>https://guzhongren.github.io/2019/09/golang-with-sqllite-practice.zh/</guid><description><![CDATA[<div class="featured-image">
                <img src="https://i.loli.net/2020/03/29/JEtYLcPTCDIU2bs.png" referrerpolicy="no-referrer">
            </div><!-- TOC -->
<ul>
<li><a href="#%E7%AE%80%E4%BB%8B">ç®€ä»‹</a><sup>[1]</sup>
</li>
<li><a href="#%E7%9B%AE%E6%A0%87">ç›®æ ‡</a><sup>[2]</sup>
</li>
<li><a href="#%E7%9B%AE%E7%9A%84">ç›®çš„</a><sup>[3]</sup>
</li>
<li><a href="#coding">Coding</a><sup>[4]</sup>

<ul>
<li><a href="#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84">ç›®å½•ç»“æ„</a><sup>[5]</sup>
</li>
<li><a href="#%E5%B0%81%E8%A3%85-error-%E5%87%BD%E6%95%B0">å°è£… error å‡½æ•°</a><sup>[6]</sup>
</li>
<li><a href="#%E5%AE%89%E8%A3%85-sqllite-%E5%BA%93%E5%8F%8A%E5%85%B6%E4%BB%96%E5%BA%93">å®‰è£… SQLLite åº“åŠå…¶ä»–åº“</a><sup>[7]</sup>
</li>
<li><a href="#%E7%94%B3%E6%98%8E-db-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F">ç”³æ˜ DB å…¨å±€å˜é‡</a><sup>[8]</sup>
</li>
<li><a href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93">åˆå§‹åŒ–æ•°æ®åº“</a><sup>[9]</sup>
</li>
<li><a href="#%E7%94%A8%E6%88%B7%E6%A8%A1%E5%9E%8B%E6%9E%84%E5%BB%BA%E5%8F%8A%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C">ç”¨æˆ·æ¨¡å‹æ„å»ºåŠåŸå­æ“ä½œ</a><sup>[10]</sup>

<ul>
<li><a href="#%E7%94%A8%E6%88%B7%E6%A8%A1%E5%9E%8B">ç”¨æˆ·æ¨¡å‹</a><sup>[11]</sup>
</li>
<li><a href="#%E6%96%B0%E5%A2%9E">æ–°å¢</a><sup>[12]</sup>
</li>
<li><a href="#%E5%88%A0%E9%99%A4">åˆ é™¤</a><sup>[13]</sup>
</li>
<li><a href="#%E4%BF%AE%E6%94%B9">ä¿®æ”¹</a><sup>[14]</sup>
</li>
<li><a href="#%E6%9F%A5%E8%AF%A2">æŸ¥è¯¢</a><sup>[15]</sup>
</li>
</ul>
</li>
<li><a href="#%E5%9C%A8%E5%BA%94%E7%94%A8%E4%B8%AD%E5%90%AF%E5%8A%A8%E5%B9%B6%E8%B0%83%E7%94%A8%E7%94%A8%E6%88%B7%E6%A8%A1%E5%9E%8B%E7%9A%84%E6%96%B9%E6%B3%95">åœ¨åº”ç”¨ä¸­å¯åŠ¨å¹¶è°ƒç”¨ç”¨æˆ·æ¨¡å‹çš„æ–¹æ³•</a><sup>[16]</sup>
</li>
<li><a href="#%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C%E5%B1%95%E7%A4%BA">è¿è¡Œç»“æœå±•ç¤º</a><sup>[17]</sup>
</li>
</ul>
</li>
<li><a href="#%E6%80%BB%E7%BB%93">æ€»ç»“</a><sup>[18]</sup>
</li>
<li><a href="#reference">Reference</a><sup>[19]</sup>
</li>
<li><a href="#hereby-declared%E7%89%B9%E6%AD%A4%E7%94%B3%E6%98%8E">Disclaimer</a><sup>[20]</sup>
</li>
</ul>
<!-- /TOC -->
<h2 id="ç®€ä»‹">ç®€ä»‹</h2>
<p><a href="about:blank">SQLite</a><sup>[21]</sup>
 æ˜¯ä¸€ä¸ªè¿›ç¨‹å†…çš„åº“ï¼Œå®ç°äº†è‡ªç»™è‡ªè¶³çš„ã€æ— æœåŠ¡å™¨çš„ã€é›¶é…ç½®çš„ã€äº‹åŠ¡æ€§çš„ SQL æ•°æ®åº“å¼•æ“ã€‚å®ƒæ˜¯ä¸€ä¸ªé›¶é…ç½®çš„æ•°æ®åº“ï¼Œè¿™æ„å‘³ç€ä¸å…¶ä»–æ•°æ®åº“ä¸€æ ·ï¼Œä½ ä¸éœ€è¦åœ¨ç³»ç»Ÿä¸­é…ç½®ã€‚åœ¨ Golang ä¸­ä½¿ç”¨ SQLLite ä¹Ÿç›¸å½“ç®€å•ï¼Œåªéœ€è¦å®‰è£… SQLLite çš„ Golang  åŒ…å³å¯ä½¿ç”¨ï¼›
Golang å°±ä¸å¤šä»‹ç»äº†ï¼Œèƒ½çœ‹åˆ°è¿™ä¸ªè‚¯å®šå¯¹ <a href="https://golang.google.cn/">Golang</a><sup>[22]</sup>
 æœ‰ä¸€å®šçš„äº†è§£ã€‚</p>
<p>ä»“åº“åœ°å€ï¼š<a href="https://github.com/AndorLab/golang-sqllite">https://github.com/AndorLab/golang-sqllite</a><sup>[23]</sup>
</p>
<h2 id="ç›®æ ‡">ç›®æ ‡</h2>
<p>ä½¿ç”¨ SQLLite é€šè¿‡æ„å»ºä¸€ä¸ªç¤¾åŒºç”¨æˆ·è¡¨ï¼ŒåŒ…å«å¦‚ä¸‹å­—æ®µï¼›é€šè¿‡ SQLLite çš„ API å®ç°å¯¹ç¤¾åŒºç”¨æˆ·è¡¨è¿›è¡Œå¢åˆ æ”¹æŸ¥ã€‚</p>
<table>
  <thead>
      <tr>
          <th>åºå·</th>
          <th>å­—æ®µ</th>
          <th>ç±»å‹</th>
          <th>è¯´æ˜</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>1</td>
          <td>uid</td>
          <td>int64</td>
          <td>id</td>
      </tr>
      <tr>
          <td>2</td>
          <td>username</td>
          <td>string</td>
          <td>ç”¨æˆ·å</td>
      </tr>
      <tr>
          <td>3</td>
          <td>city</td>
          <td>string</td>
          <td>åŸå¸‚</td>
      </tr>
      <tr>
          <td>4</td>
          <td>skills</td>
          <td>string</td>
          <td>æŠ€èƒ½</td>
      </tr>
      <tr>
          <td>5</td>
          <td>created</td>
          <td>int64</td>
          <td>åˆ›å»ºæ—¶é—´</td>
      </tr>
  </tbody>
</table>
<h2 id="ç›®çš„">ç›®çš„</h2>
<p>äº†è§£ SQLLite ï¼Œå­¦ä¹  Golang æ“ä½œ SQLLite, å·©å›º Golang åŸºç¡€çŸ¥è¯†ã€‚</p>
<h2 id="coding">Coding</h2>
<h3 id="ç›®å½•ç»“æ„">ç›®å½•ç»“æ„</h3>
<p>é¡¹ç›®é‡‡ç”¨ Golang ä¼ ç»Ÿçš„å¹³é“ºå¼ç›®å½•</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">.
</span></span><span class="line"><span class="cl">â”œâ”€â”€ LICENSE
</span></span><span class="line"><span class="cl">â”œâ”€â”€ Makefile      <span class="c1"># æ„å»ºå·¥å…·</span>
</span></span><span class="line"><span class="cl">â”œâ”€â”€ README.md     <span class="c1"># README</span>
</span></span><span class="line"><span class="cl">â”œâ”€â”€ db.go         <span class="c1"># æ•°æ®åº“æ“ä½œ</span>
</span></span><span class="line"><span class="cl">â”œâ”€â”€ error.go      <span class="c1"># é”™è¯¯å¤„ç†å·¥å…·æ–¹æ³•</span>
</span></span><span class="line"><span class="cl">â”œâ”€â”€ fcc.db        <span class="c1"># sqllite æ•°æ®åº“</span>
</span></span><span class="line"><span class="cl">â”œâ”€â”€ go.mod        <span class="c1"># go modules</span>
</span></span><span class="line"><span class="cl">â”œâ”€â”€ go.sum        <span class="c1"># go modules</span>
</span></span><span class="line"><span class="cl">â”œâ”€â”€ main.go       <span class="c1"># é¡¹ç›®å…¥å£</span>
</span></span><span class="line"><span class="cl">â”œâ”€â”€ server.go     <span class="c1"># åº”ç”¨ç¨‹åºå…¥å£</span>
</span></span><span class="line"><span class="cl">â””â”€â”€ userModel.go  <span class="c1"># ç”¨æˆ·æ¨¡å‹</span></span></span></code></pre></div></div>
<h3 id="å°è£…-error-å‡½æ•°">å°è£… error å‡½æ•°</h3>
<p>å› ä¸ºåœ¨ go ä¸­ä¼šæœ‰å¾ˆå¤šçš„ error çš„åˆ¤æ–­ï¼Œä¸ºäº†ä»£ç ç²¾ç®€ï¼Œæˆ‘ä»¬ç‰¹å°è£…ä¸€ä¸‹ error; ä¸‹é¢çš„ <em>interface{}</em> ä»£è¡¨ä»»ä½•ç±»å‹ï¼Œç±»ä¼¼ TypeScript ä¸­çš„ <em>any</em>ã€‚</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-golang">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="err">#</span> <span class="kt">error</span><span class="p">.</span><span class="k">go</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">checkErr</span><span class="p">(</span><span class="nx">data</span> <span class="kd">interface</span><span class="p">{},</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span> <span class="p">(</span><span class="kd">interface</span><span class="p">{},</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">log</span><span class="p">.</span><span class="nf">Error</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">err</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">err</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div>
<h3 id="å®‰è£…-sqllite-åº“åŠå…¶ä»–åº“">å®‰è£… SQLLite åº“åŠå…¶ä»–åº“</h3>
<p>ä½¿ç”¨ go modules ä¹‹åï¼Œå°†æ‰€éœ€çš„åŒ…æ”¾åœ¨ import ä¸­ï¼Œä½¿ç”¨ <em>go mod tidy</em> å‘½ä»¤åï¼Œgo ä¼šè‡ªåŠ¨å®‰è£…ç¨‹åºä½¿ç”¨åˆ°çš„åŒ…ã€‚</p>
<p>æ—¥å¿—ç›¸å…³çš„åº“ï¼Œä¸»è¦ç”¨äºåœ¨æ§åˆ¶å°æ‰“å°ç»“æœ</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-golang">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="err">#</span> <span class="nx">server</span><span class="p">.</span><span class="k">go</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;github.com/labstack/gommon/log&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span></span></span></code></pre></div></div>
<p>SQLLite åŒ…</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-golang">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="err">#</span> <span class="nx">db</span><span class="p">.</span><span class="k">go</span>
</span></span><span class="line"><span class="cl"><span class="nx">_</span> <span class="s">&#34;github.com/mattn/go-sqlite3&#34;</span></span></span></code></pre></div></div>
<h3 id="ç”³æ˜-db-å…¨å±€å˜é‡">ç”³æ˜ DB å…¨å±€å˜é‡</h3>
<p>å› ä¸ºåœ¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬è¦é€šè¿‡æ•°æ®åº“æ¥è·å–æ•°æ®ï¼Œé‚£ä¹ˆå­˜åœ¨ä¸€ä¸ªå…¨å±€çš„æ•°æ®åº“æŒ‡é’ˆæ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-golang">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="err">#</span> <span class="nx">main</span><span class="p">.</span><span class="k">go</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">db</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">sql</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span></span></span></code></pre></div></div>
<h3 id="åˆå§‹åŒ–æ•°æ®åº“">åˆå§‹åŒ–æ•°æ®åº“</h3>
<p>SQLLite åˆå§‹åŒ–æ•°æ®åº“éå¸¸ç®€å•ï¼Œåªè¦æŒ‡å®šæ•°æ®åº“é©±åŠ¨å’Œæ•°æ®åº“æ–‡ä»¶å°±å¯ä»¥ã€‚ä¸ºäº†åœ¨ç¨‹åºçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­æ“ä½œæ•°æ®åº“ï¼Œæˆ‘ä»¬å°† db è¿”å›ã€‚</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-golang">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="c1">// openDB æ‰“å¼€æ•°æ®åº“
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">openDB</span><span class="p">()</span> <span class="o">*</span><span class="nx">sql</span><span class="p">.</span><span class="nx">DB</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//æ‰“å¼€æ•°æ®åº“ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»º
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">db</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">sql</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="s">&#34;sqlite3&#34;</span><span class="p">,</span> <span class="s">&#34;./fcc.db&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nf">checkErr</span><span class="p">(</span><span class="nx">db</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">db</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div>
<p>åˆ›å»ºå¥½ db åï¼Œéœ€è¦åˆ›å»ºè¡¨ç»“æ„ï¼Œæ‰§è¡Œå¦‚ä¸‹æ•°æ®åº“æ“ä½œå‘½ä»¤å³å¯å®Œæˆç”¨æˆ·è¡¨çš„åˆ›å»ºã€‚</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-golang">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="c1">// initDB åˆå§‹åŒ–æ•°æ®åº“
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">initDB</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//åˆ›å»ºè¡¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">sqlTable</span> <span class="o">:=</span> <span class="s">`
</span></span></span><span class="line"><span class="cl"><span class="s">			CREATE TABLE IF NOT EXISTS userinfo(
</span></span></span><span class="line"><span class="cl"><span class="s">					uid INTEGER PRIMARY KEY AUTOINCREMENT,
</span></span></span><span class="line"><span class="cl"><span class="s">					username VARCHAR(64) NULL,
</span></span></span><span class="line"><span class="cl"><span class="s">					city VARCHAR(64) NULL,
</span></span></span><span class="line"><span class="cl"><span class="s">					skills VARCHAR(128) NULL,
</span></span></span><span class="line"><span class="cl"><span class="s">					created BIGINT NULL
</span></span></span><span class="line"><span class="cl"><span class="s">			);
</span></span></span><span class="line"><span class="cl"><span class="s">			`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">db</span><span class="p">.</span><span class="nf">Exec</span><span class="p">(</span><span class="nx">sqlTable</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div>
<h3 id="ç”¨æˆ·æ¨¡å‹æ„å»ºåŠåŸå­æ“ä½œ">ç”¨æˆ·æ¨¡å‹æ„å»ºåŠåŸå­æ“ä½œ</h3>
<p>æ„å»ºç°ä»£ç¨‹åºï¼Œå¼ºè°ƒç¨‹åºçš„å¥å£®æ€§ï¼Œå°è£…å°±æ˜¯æ¯”è¾ƒé‡è¦çš„ï¼›ç”¨ MVCã€ MVVM çš„è§‚ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦æœ‰ä¸€ä¸ª Model æ¥æä¾›å¯¹è±¡çš„åŸå­æ“ä½œã€‚åœ¨è¿™ï¼Œæˆ‘ä»¬å°†ç”¨æˆ·æŠ½è±¡ä¸º UserModelï¼Œå¯¹ç”¨æˆ·çš„å¢åˆ æ”¹æŸ¥å°è£…åˆ° <em>insert</em>ã€<em>dleete</em>ã€<em>update</em> å’Œ <em>query</em>ã€‚</p>
<h4 id="ç”¨æˆ·æ¨¡å‹">ç”¨æˆ·æ¨¡å‹</h4>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-golang">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="c1">// UserModel ç”¨æˆ·æ¨¡å‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">UserModel</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">uid</span>      <span class="kt">int64</span>
</span></span><span class="line"><span class="cl">	<span class="nx">username</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">city</span>     <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">skills</span>   <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">created</span>  <span class="kt">int64</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div>
<p>å¯¹ç”¨æˆ·çš„åŸå­æ“ä½œ</p>
<h4 id="æ–°å¢">æ–°å¢</h4>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-golang">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="c1">// insert æ–°å¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">u</span> <span class="nx">UserModel</span><span class="p">)</span> <span class="nf">insert</span><span class="p">()</span> <span class="p">(</span><span class="nx">sql</span><span class="p">.</span><span class="nx">Result</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">stmt</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Prepare</span><span class="p">(</span><span class="s">&#34;insert into userinfo(username, city, skills, created) values(?,?,?,?)&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nf">checkErr</span><span class="p">(</span><span class="nx">stmt</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">res</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">stmt</span><span class="p">.</span><span class="nf">Exec</span><span class="p">(</span><span class="nx">u</span><span class="p">.</span><span class="nx">username</span><span class="p">,</span> <span class="nx">u</span><span class="p">.</span><span class="nx">city</span><span class="p">,</span> <span class="nx">u</span><span class="p">.</span><span class="nx">skills</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">().</span><span class="nf">Unix</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">	<span class="nf">checkErr</span><span class="p">(</span><span class="nx">res</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">res</span><span class="p">,</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div>
<h4 id="åˆ é™¤">åˆ é™¤</h4>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-golang">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="c1">// delete åˆ é™¤
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">u</span> <span class="nx">UserModel</span><span class="p">)</span> <span class="nb">delete</span><span class="p">(</span><span class="nx">id</span> <span class="kt">int64</span><span class="p">)</span> <span class="kt">int64</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">stmt</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Prepare</span><span class="p">(</span><span class="s">&#34;delete from userinfo where uid=?&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nf">checkErr</span><span class="p">(</span><span class="nx">stmt</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">res</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">stmt</span><span class="p">.</span><span class="nf">Exec</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nf">checkErr</span><span class="p">(</span><span class="nx">res</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">affect</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">res</span><span class="p">.</span><span class="nf">RowsAffected</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nf">checkErr</span><span class="p">(</span><span class="nx">affect</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">affect</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div>
<h4 id="ä¿®æ”¹">ä¿®æ”¹</h4>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-golang">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="c1">// update	æ›´æ–°ç”¨æˆ·æŠ€èƒ½
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">u</span> <span class="nx">UserModel</span><span class="p">)</span> <span class="nf">update</span><span class="p">(</span><span class="nx">id</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int64</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">stmt</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Prepare</span><span class="p">(</span><span class="s">&#34;update userinfo set skills=? where uid=?&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nf">checkErr</span><span class="p">(</span><span class="nx">stmt</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">res</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">stmt</span><span class="p">.</span><span class="nf">Exec</span><span class="p">(</span><span class="nx">u</span><span class="p">.</span><span class="nx">skills</span><span class="p">,</span> <span class="nx">id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nf">checkErr</span><span class="p">(</span><span class="nx">res</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">affect</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">res</span><span class="p">.</span><span class="nf">RowsAffected</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nf">checkErr</span><span class="p">(</span><span class="nx">affect</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">affect</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div>
<h4 id="æŸ¥è¯¢">æŸ¥è¯¢</h4>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-golang">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="c1">// query æŸ¥è¯¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">u</span> <span class="nx">UserModel</span><span class="p">)</span> <span class="nf">query</span><span class="p">()</span> <span class="p">([]</span><span class="nx">UserModel</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">rows</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Query</span><span class="p">(</span><span class="s">&#34;select * from userinfo&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nf">checkErr</span><span class="p">(</span><span class="nx">rows</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">userList</span> <span class="p">=</span> <span class="p">[]</span><span class="nx">UserModel</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">rows</span><span class="p">.</span><span class="nf">Next</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="kd">var</span> <span class="nx">user</span> <span class="p">=</span> <span class="nx">UserModel</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">		<span class="nx">err</span> <span class="p">=</span> <span class="nx">rows</span><span class="p">.</span><span class="nf">Scan</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">.</span><span class="nx">uid</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">user</span><span class="p">.</span><span class="nx">username</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">user</span><span class="p">.</span><span class="nx">city</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">user</span><span class="p">.</span><span class="nx">skills</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">user</span><span class="p">.</span><span class="nx">created</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nf">checkErr</span><span class="p">(</span><span class="kc">nil</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">userList</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">userList</span><span class="p">,</span> <span class="nx">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">rows</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">userList</span><span class="p">,</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div>
<h3 id="åœ¨åº”ç”¨ä¸­å¯åŠ¨å¹¶è°ƒç”¨ç”¨æˆ·æ¨¡å‹çš„æ–¹æ³•">åœ¨åº”ç”¨ä¸­å¯åŠ¨å¹¶è°ƒç”¨ç”¨æˆ·æ¨¡å‹çš„æ–¹æ³•</h3>
<p>åœ¨ä¸Šé¢æˆ‘ä»¬å®Œæˆäº†å¯¹ç”¨æˆ·æ¨¡å‹åŠåŸå­æ“ä½œçš„å°è£…ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±æ˜¯é€šè¿‡åº”ç”¨ç¨‹åºå°†åˆ†è£…çš„å†…å®¹è°ƒç”¨ï¼Œä¼ å…¥æ­£ç¡®çš„å‚æ•°è¿›è¡Œè°ƒç”¨ã€‚
æˆ‘ä»¬åœ¨æ­¤å°è£…ä¸€ä¸ª <em>startAPP</em> æ–¹æ³•ï¼Œåœ¨è¿™ä¸ªé‡Œé¢æˆ‘ä»¬è°ƒç”¨å°è£…å¥½çš„ç”¨æˆ·æ“ä½œçš„æ¥å£ï¼Œå®ç°åŠŸèƒ½ã€‚</p>
<p>å› ä¸ºæ•°æ®åº“è¦åœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå­˜åœ¨ï¼Œå½“ç¨‹åºç»“æŸçš„æ—¶å€™ï¼Œæˆ‘ä»¬åº”è¯¥å°†æ•°æ®åº“é“¾æ¥é‡Šæ”¾ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨åˆ°äº† go çš„ <em>defer</em> å…³é”®å­—</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-golang">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="err">#</span> <span class="nx">server</span><span class="p">.</span><span class="k">go</span>
</span></span><span class="line"><span class="cl">  <span class="nx">db</span> <span class="p">=</span> <span class="nf">openDB</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="k">defer</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="nf">initDB</span><span class="p">()</span></span></span></code></pre></div></div>
<p>è°ƒç”¨ç”¨æˆ·æ“ä½œçš„å¢åˆ æ”¹æŸ¥å¹¶æ‰“å°ç»“æœï¼Œå¯¹äºä¸åŒçš„æ“ä½œï¼Œæˆ‘ä»¬åº”è¯¥æœ‰ä¸åŒçš„æ•°æ®ï¼Œæ‰€ä»¥åœ¨ç¨‹åºä¸­ä¼šæœ‰ <em>user</em>ã€å’Œ <em>updateUser</em> ä¸¤ä¸ªå¯¹è±¡</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-golang">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="err">#</span> <span class="nx">server</span><span class="p">.</span><span class="k">go</span>
</span></span><span class="line"><span class="cl">  <span class="nx">user</span> <span class="o">:=</span> <span class="nx">UserModel</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  	<span class="nx">username</span><span class="p">:</span> <span class="s">&#34;è°·ä¸­ä»&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  	<span class="nx">city</span><span class="p">:</span>     <span class="s">`è¥¿å®‰`</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  	<span class="nx">skills</span><span class="p">:</span>   <span class="s">`TypeScript`</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// insert
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">result</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">user</span><span class="p">.</span><span class="nf">insert</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="nx">id</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">result</span><span class="p">.</span><span class="nf">LastInsertId</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="nf">checkErr</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nx">log</span><span class="p">.</span><span class="nf">Info</span><span class="p">(</span><span class="s">&#34;å¢ï¼šæ“ä½œæ•°æ®çš„ id:&#34;</span><span class="p">,</span> <span class="nx">id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// update
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">updateUser</span> <span class="o">:=</span> <span class="nx">UserModel</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  	<span class="nx">skills</span><span class="p">:</span> <span class="s">`golang`</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="nx">affectedRow</span> <span class="o">:=</span> <span class="nx">updateUser</span><span class="p">.</span><span class="nf">updateSkills</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nx">log</span><span class="p">.</span><span class="nf">Info</span><span class="p">(</span><span class="s">&#34;æ”¹ï¼šå½±å“çš„è¡Œæ•°ï¼š&#34;</span><span class="p">,</span> <span class="nx">affectedRow</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// query
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">queryUser</span> <span class="o">:=</span> <span class="nx">UserModel</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">  <span class="nx">list</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">queryUser</span><span class="p">.</span><span class="nf">query</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="nx">log</span><span class="p">.</span><span class="nf">Info</span><span class="p">(</span><span class="s">&#34;æŸ¥ï¼š&#34;</span><span class="p">,</span> <span class="nx">list</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// delete
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">affect</span> <span class="o">:=</span> <span class="nx">queryUser</span><span class="p">.</span><span class="nb">delete</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nx">log</span><span class="p">.</span><span class="nf">Info</span><span class="p">(</span><span class="s">&#34;åˆ ï¼š&#34;</span><span class="p">,</span> <span class="nx">affect</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// query
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">list</span><span class="p">,</span> <span class="nx">_</span> <span class="p">=</span> <span class="nx">queryUser</span><span class="p">.</span><span class="nf">query</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="nx">log</span><span class="p">.</span><span class="nf">Info</span><span class="p">(</span><span class="s">&#34;æŸ¥ï¼š&#34;</span><span class="p">,</span> <span class="nx">list</span><span class="p">)</span></span></span></code></pre></div></div>
<h3 id="è¿è¡Œç»“æœå±•ç¤º">è¿è¡Œç»“æœå±•ç¤º</h3>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ make run
</span></span><span class="line"><span class="cl">go run *.go
</span></span><span class="line"><span class="cl"><span class="o">{</span><span class="s2">&#34;time&#34;</span>:<span class="s2">&#34;2019-08-31T14:21:48.941164+08:00&#34;</span>,<span class="s2">&#34;level&#34;</span>:<span class="s2">&#34;INFO&#34;</span>,<span class="s2">&#34;prefix&#34;</span>:<span class="s2">&#34;-&#34;</span>,<span class="s2">&#34;file&#34;</span>:<span class="s2">&#34;server.go&#34;</span>,<span class="s2">&#34;line&#34;</span>:<span class="s2">&#34;21&#34;</span>,<span class="s2">&#34;message&#34;</span>:<span class="s2">&#34;å¢ï¼šæ“ä½œæ•°æ®çš„ id:1&#34;</span><span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">{</span><span class="s2">&#34;time&#34;</span>:<span class="s2">&#34;2019-08-31T14:21:48.941842+08:00&#34;</span>,<span class="s2">&#34;level&#34;</span>:<span class="s2">&#34;INFO&#34;</span>,<span class="s2">&#34;prefix&#34;</span>:<span class="s2">&#34;-&#34;</span>,<span class="s2">&#34;file&#34;</span>:<span class="s2">&#34;server.go&#34;</span>,<span class="s2">&#34;line&#34;</span>:<span class="s2">&#34;27&#34;</span>,<span class="s2">&#34;message&#34;</span>:<span class="s2">&#34;æ”¹ï¼šå½±å“çš„è¡Œæ•°ï¼š1&#34;</span><span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">{</span><span class="s2">&#34;time&#34;</span>:<span class="s2">&#34;2019-08-31T14:21:48.942034+08:00&#34;</span>,<span class="s2">&#34;level&#34;</span>:<span class="s2">&#34;INFO&#34;</span>,<span class="s2">&#34;prefix&#34;</span>:<span class="s2">&#34;-&#34;</span>,<span class="s2">&#34;file&#34;</span>:<span class="s2">&#34;server.go&#34;</span>,<span class="s2">&#34;line&#34;</span>:<span class="s2">&#34;31&#34;</span>,<span class="s2">&#34;message&#34;</span>:<span class="s2">&#34;æŸ¥ï¼š[{1 è°·ä¸­ä» è¥¿å®‰ golang 1567232508}]&#34;</span><span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">{</span><span class="s2">&#34;time&#34;</span>:<span class="s2">&#34;2019-08-31T14:21:48.942599+08:00&#34;</span>,<span class="s2">&#34;level&#34;</span>:<span class="s2">&#34;INFO&#34;</span>,<span class="s2">&#34;prefix&#34;</span>:<span class="s2">&#34;-&#34;</span>,<span class="s2">&#34;file&#34;</span>:<span class="s2">&#34;server.go&#34;</span>,<span class="s2">&#34;line&#34;</span>:<span class="s2">&#34;34&#34;</span>,<span class="s2">&#34;message&#34;</span>:<span class="s2">&#34;åˆ ï¼š1&#34;</span><span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">{</span><span class="s2">&#34;time&#34;</span>:<span class="s2">&#34;2019-08-31T14:21:48.942696+08:00&#34;</span>,<span class="s2">&#34;level&#34;</span>:<span class="s2">&#34;INFO&#34;</span>,<span class="s2">&#34;prefix&#34;</span>:<span class="s2">&#34;-&#34;</span>,<span class="s2">&#34;file&#34;</span>:<span class="s2">&#34;server.go&#34;</span>,<span class="s2">&#34;line&#34;</span>:<span class="s2">&#34;38&#34;</span>,<span class="s2">&#34;message&#34;</span>:<span class="s2">&#34;æŸ¥ï¼š[]&#34;</span><span class="o">}</span></span></span></code></pre></div></div>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>SQLLite å¯¹å¼€å‘è€…éå¸¸å‹å¥½ï¼Œä¸ç”¨å®‰è£…åœ¨æœºå™¨ä¸Šï¼Œåªè¦æŒ‡å®š SQLLite çš„é©±åŠ¨å’Œæ•°æ®åº“å­˜å‚¨æ–‡ä»¶å³å¯å¯¹ SQLLite æ•°æ®åº“è¿›è¡Œæ“ä½œï¼›Golang ä½œä¸ºæ¯”è¾ƒæµè¡Œçš„è¯­è¨€ï¼Œå¯¹æ•°æ®åº“ä¹Ÿéå¸¸å‹å¥½ï¼Œæä¾›äº†åŸºæœ¬çš„æ•°æ®åº“æ¥å£ï¼Œ
è‡³äºç”¨æˆ·éœ€è¦ä»€ä¹ˆæ ·çš„æ•°æ®åº“ï¼Œè‡ªå·±å¼€å‘å¯¹åº”çš„æ•°æ®åº“é©±åŠ¨å³å¯ã€‚å½“ç„¶åœ¨ GitHub å·²ç»æœ‰å¾ˆå¤šå¼€æºçˆ±å¥½è€…å¼€å‘äº†æ¯”è¾ƒæµè¡Œçš„æ•°æ®åº“çš„é©±åŠ¨å¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨ã€‚</p>
<p>SQLLite ä½¿ç”¨çš„ä¹Ÿæ˜¯æ ‡å‡†çš„ SQL è¯­æ³•ï¼Œå¯ä»¥è®©ä¸åŒçš„å¼€å‘è€…å¿«é€Ÿå…¥æ‰‹ã€‚</p>
<p>ä¸ºä»€ä¹ˆæ²¡æœ‰ç”¨åˆ° Golang çš„ Web æ¡†æ¶ï¼Ÿ</p>
<p>å› ä¸ºæˆ‘ä»¬çš„ä¾§é‡ç‚¹åœ¨ Golang ä¸ SQLLiteï¼Œä¸åœ¨ API å®ç°ä¸Šï¼Œæœ€å°åŒ–çš„å®ç°ç›®æ ‡ï¼Œæ‰æ˜¯æˆ‘ä»¬å­¦ä¹ çŸ¥è¯†æœ€å¿«é€Ÿçš„é€”å¾„ã€‚</p>
<p>åŸæ–‡é“¾æ¥ï¼š<a href="https://chinese.freecodecamp.org/news/golang-with-sqllite-practice/">https://chinese.freecodecamp.org/news/golang-with-sqllite-practice/</a><sup>[24]</sup>
</p>
<div class="references">
                <h2>å‚è€ƒ</h2>
                <ol><li>ç®€ä»‹: <a href="https://guzhongren.github.io/#%E7%AE%80%E4%BB%8B" rel="noopener noreferrer">#%E7%AE%80%E4%BB%8B</a></li><li>ç›®æ ‡: <a href="https://guzhongren.github.io/#%E7%9B%AE%E6%A0%87" rel="noopener noreferrer">#%E7%9B%AE%E6%A0%87</a></li><li>ç›®çš„: <a href="https://guzhongren.github.io/#%E7%9B%AE%E7%9A%84" rel="noopener noreferrer">#%E7%9B%AE%E7%9A%84</a></li><li>Coding: <a href="https://guzhongren.github.io/#coding" rel="noopener noreferrer">#coding</a></li><li>ç›®å½•ç»“æ„: <a href="https://guzhongren.github.io/#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84" rel="noopener noreferrer">#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84</a></li><li>å°è£… error å‡½æ•°: <a href="https://guzhongren.github.io/#%E5%B0%81%E8%A3%85-error-%E5%87%BD%E6%95%B0" rel="noopener noreferrer">#%E5%B0%81%E8%A3%85-error-%E5%87%BD%E6%95%B0</a></li><li>å®‰è£… SQLLite åº“åŠå…¶ä»–åº“: <a href="https://guzhongren.github.io/#%E5%AE%89%E8%A3%85-sqllite-%E5%BA%93%E5%8F%8A%E5%85%B6%E4%BB%96%E5%BA%93" rel="noopener noreferrer">#%E5%AE%89%E8%A3%85-sqllite-%E5%BA%93%E5%8F%8A%E5%85%B6%E4%BB%96%E5%BA%93</a></li><li>ç”³æ˜ DB å…¨å±€å˜é‡: <a href="https://guzhongren.github.io/#%E7%94%B3%E6%98%8E-db-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F" rel="noopener noreferrer">#%E7%94%B3%E6%98%8E-db-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F</a></li><li>åˆå§‹åŒ–æ•°æ®åº“: <a href="https://guzhongren.github.io/#%E5%88%9D%E5%A7%8B%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93" rel="noopener noreferrer">#%E5%88%9D%E5%A7%8B%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93</a></li><li>ç”¨æˆ·æ¨¡å‹æ„å»ºåŠåŸå­æ“ä½œ: <a href="https://guzhongren.github.io/#%E7%94%A8%E6%88%B7%E6%A8%A1%E5%9E%8B%E6%9E%84%E5%BB%BA%E5%8F%8A%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C" rel="noopener noreferrer">#%E7%94%A8%E6%88%B7%E6%A8%A1%E5%9E%8B%E6%9E%84%E5%BB%BA%E5%8F%8A%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C</a></li><li>ç”¨æˆ·æ¨¡å‹: <a href="https://guzhongren.github.io/#%E7%94%A8%E6%88%B7%E6%A8%A1%E5%9E%8B" rel="noopener noreferrer">#%E7%94%A8%E6%88%B7%E6%A8%A1%E5%9E%8B</a></li><li>æ–°å¢: <a href="https://guzhongren.github.io/#%E6%96%B0%E5%A2%9E" rel="noopener noreferrer">#%E6%96%B0%E5%A2%9E</a></li><li>åˆ é™¤: <a href="https://guzhongren.github.io/#%E5%88%A0%E9%99%A4" rel="noopener noreferrer">#%E5%88%A0%E9%99%A4</a></li><li>ä¿®æ”¹: <a href="https://guzhongren.github.io/#%E4%BF%AE%E6%94%B9" rel="noopener noreferrer">#%E4%BF%AE%E6%94%B9</a></li><li>æŸ¥è¯¢: <a href="https://guzhongren.github.io/#%E6%9F%A5%E8%AF%A2" rel="noopener noreferrer">#%E6%9F%A5%E8%AF%A2</a></li><li>åœ¨åº”ç”¨ä¸­å¯åŠ¨å¹¶è°ƒç”¨ç”¨æˆ·æ¨¡å‹çš„æ–¹æ³•: <a href="https://guzhongren.github.io/#%E5%9C%A8%E5%BA%94%E7%94%A8%E4%B8%AD%E5%90%AF%E5%8A%A8%E5%B9%B6%E8%B0%83%E7%94%A8%E7%94%A8%E6%88%B7%E6%A8%A1%E5%9E%8B%E7%9A%84%E6%96%B9%E6%B3%95" rel="noopener noreferrer">#%E5%9C%A8%E5%BA%94%E7%94%A8%E4%B8%AD%E5%90%AF%E5%8A%A8%E5%B9%B6%E8%B0%83%E7%94%A8%E7%94%A8%E6%88%B7%E6%A8%A1%E5%9E%8B%E7%9A%84%E6%96%B9%E6%B3%95</a></li><li>è¿è¡Œç»“æœå±•ç¤º: <a href="https://guzhongren.github.io/#%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C%E5%B1%95%E7%A4%BA" rel="noopener noreferrer">#%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C%E5%B1%95%E7%A4%BA</a></li><li>æ€»ç»“: <a href="https://guzhongren.github.io/#%E6%80%BB%E7%BB%93" rel="noopener noreferrer">#%E6%80%BB%E7%BB%93</a></li><li>Reference: <a href="https://guzhongren.github.io/#reference" rel="noopener noreferrer">#reference</a></li><li>Disclaimer: <a href="https://guzhongren.github.io/#hereby-declared%E7%89%B9%E6%AD%A4%E7%94%B3%E6%98%8E" rel="noopener noreferrer">#hereby-declared%E7%89%B9%E6%AD%A4%E7%94%B3%E6%98%8E</a></li><li>SQLite: <a href="#ZgotmplZ" rel="noopener noreferrer">about:blank</a></li><li>Golang: <a href="https://golang.google.cn/" rel="noopener noreferrer">https://golang.google.cn/</a></li><li>https://github.com/AndorLab/golang-sqllite: <a href="https://github.com/AndorLab/golang-sqllite" rel="noopener noreferrer">https://github.com/AndorLab/golang-sqllite</a></li><li>https://chinese.freecodecamp.org/news/golang-with-sqllite-practice/: <a href="https://chinese.freecodecamp.org/news/golang-with-sqllite-practice/" rel="noopener noreferrer">https://chinese.freecodecamp.org/news/golang-with-sqllite-practice/</a></li></ol>
            </div>]]></description></item><item><title>Go Module å®‰è£…ä¸äº† golang.org æ—¶çš„å¤„ç†æ–¹å¼è®°å½•</title><link>https://guzhongren.github.io/2018/11/go-module-%E5%AE%89%E8%A3%85%E4%B8%8D%E4%BA%86golang.org%E6%97%B6%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E5%BC%8F%E8%AE%B0%E5%BD%95.zh/</link><pubDate>Thu, 01 Nov 2018 21:46:40 +0800</pubDate><author>è°·ä¸­ä»</author><guid>https://guzhongren.github.io/2018/11/go-module-%E5%AE%89%E8%A3%85%E4%B8%8D%E4%BA%86golang.org%E6%97%B6%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E5%BC%8F%E8%AE%B0%E5%BD%95.zh/</guid><description><![CDATA[<div class="featured-image">
                <img src="https://images.pexels.com/photos/3467149/pexels-photo-3467149.jpeg?auto=compress&amp;cs=tinysrgb&amp;dpr=3&amp;h=750&amp;w=1260" referrerpolicy="no-referrer">
            </div><div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">go: golang.org/x/sys@v0.0.0-20180905080454-ebe1bf3edb33: unrecognized import path <span class="s2">&#34;golang.orgnrecognized import path &#34;</span>golang.org/x/sys<span class="s2">&#34; (https fetch: G1: dial tcp 216.239.37.1:443: conneet https://golang.org/x/sys?go-get=1: dial tcp 216.239.37.rty did not properly respond after1:443: connectex: A connection attempt failed because the  connected host has failed to respoconnected party did not properly respond after a period of time, or established connection failed because connected : unrecognized import path &#34;</span>golang.host has failed to respond.<span class="o">)</span>
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">go: golang.org/x/crypto@v0.0.0-20180904163835-0709b304e793nected party did not properly respo: unrecognized import path <span class="s2">&#34;golang.org/x/crypto&#34;</span> <span class="o">(</span>https fed because connected host has failedtch: Get https://golang.org/x/crypto?go-get<span class="o">=</span>1: dial tcp 216.239.37.1:443: connectex: A connection attempt failed because the connected party did not properly respond after a
</span></span><span class="line"><span class="cl">period of time, or established connection failed because connected host has failed to respond.<span class="o">)</span>
</span></span><span class="line"><span class="cl">go: error loading module requirements</span></span></code></pre></div></div>
<h2 id="å¦‚ä¸Šä¸èƒ½å®‰è£…-sys-å’Œ-crypto-è¿™ä¸¤ä¸ªåº“ç”¨å¦‚ä¸‹æ–¹å¼å³å¯">å¦‚ä¸Šï¼Œä¸èƒ½å®‰è£… sys å’Œ crypto è¿™ä¸¤ä¸ªåº“ï¼Œç”¨å¦‚ä¸‹æ–¹å¼å³å¯</h2>
<p>1 æ‰‹åŠ¨åŠ å…¥è¢«å¢™çš„åŒ…ï¼ˆåŸå§‹åŒ…ï¼‰ï¼Œä¸€å®šè¦è®°ä½ç‰ˆæœ¬å·ï¼Œå®åœ¨ä¸çŸ¥é“çš„è¯ï¼Œå°±è¯•è¯• v0.0.0ï¼›</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ go mod edit -require<span class="o">=</span>golang.org/x/net@v0.0.0</span></span></code></pre></div></div>
<p>2 ç”¨ github ä¸Šçš„é•œåƒåœ°å€æ›¿æ¢</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ go mod edit -replace<span class="o">=</span>golang.org/x/crypto@v0.0.0<span class="o">=</span>github.com/golang/crypto@latest
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ go mod edit -replace<span class="o">=</span>golang.org/x/sys@v0.0.0<span class="o">=</span>github.com/golang/sys@latest</span></span></code></pre></div></div>
]]></description></item><item><title>Go Module å®‰è£…ä¸äº† golang.org æ—¶çš„å¤„ç†æ–¹å¼è®°å½•</title><link>https://guzhongren.github.io/2018/11/go-module-%E5%AE%89%E8%A3%85%E4%B8%8D%E4%BA%86golang.org%E6%97%B6%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E5%BC%8F%E8%AE%B0%E5%BD%95.zh/</link><pubDate>Thu, 01 Nov 2018 21:46:40 +0800</pubDate><author>è°·ä¸­ä»</author><guid>https://guzhongren.github.io/2018/11/go-module-%E5%AE%89%E8%A3%85%E4%B8%8D%E4%BA%86golang.org%E6%97%B6%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E5%BC%8F%E8%AE%B0%E5%BD%95.zh/</guid><description><![CDATA[<div class="featured-image">
                <img src="https://images.pexels.com/photos/3467149/pexels-photo-3467149.jpeg?auto=compress&amp;cs=tinysrgb&amp;dpr=3&amp;h=750&amp;w=1260" referrerpolicy="no-referrer">
            </div><div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">go: golang.org/x/sys@v0.0.0-20180905080454-ebe1bf3edb33: unrecognized import path <span class="s2">&#34;golang.orgnrecognized import path &#34;</span>golang.org/x/sys<span class="s2">&#34; (https fetch: G1: dial tcp 216.239.37.1:443: conneet https://golang.org/x/sys?go-get=1: dial tcp 216.239.37.rty did not properly respond after1:443: connectex: A connection attempt failed because the  connected host has failed to respoconnected party did not properly respond after a period of time, or established connection failed because connected : unrecognized import path &#34;</span>golang.host has failed to respond.<span class="o">)</span>
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">go: golang.org/x/crypto@v0.0.0-20180904163835-0709b304e793nected party did not properly respo: unrecognized import path <span class="s2">&#34;golang.org/x/crypto&#34;</span> <span class="o">(</span>https fed because connected host has failedtch: Get https://golang.org/x/crypto?go-get<span class="o">=</span>1: dial tcp 216.239.37.1:443: connectex: A connection attempt failed because the connected party did not properly respond after a
</span></span><span class="line"><span class="cl">period of time, or established connection failed because connected host has failed to respond.<span class="o">)</span>
</span></span><span class="line"><span class="cl">go: error loading module requirements</span></span></code></pre></div></div>
<h2 id="å¦‚ä¸Šä¸èƒ½å®‰è£…-sys-å’Œ-crypto-è¿™ä¸¤ä¸ªåº“ç”¨å¦‚ä¸‹æ–¹å¼å³å¯">å¦‚ä¸Šï¼Œä¸èƒ½å®‰è£… sys å’Œ crypto è¿™ä¸¤ä¸ªåº“ï¼Œç”¨å¦‚ä¸‹æ–¹å¼å³å¯</h2>
<p>1 æ‰‹åŠ¨åŠ å…¥è¢«å¢™çš„åŒ…ï¼ˆåŸå§‹åŒ…ï¼‰ï¼Œä¸€å®šè¦è®°ä½ç‰ˆæœ¬å·ï¼Œå®åœ¨ä¸çŸ¥é“çš„è¯ï¼Œå°±è¯•è¯• v0.0.0ï¼›</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ go mod edit -require<span class="o">=</span>golang.org/x/net@v0.0.0</span></span></code></pre></div></div>
<p>2 ç”¨ github ä¸Šçš„é•œåƒåœ°å€æ›¿æ¢</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ go mod edit -replace<span class="o">=</span>golang.org/x/crypto@v0.0.0<span class="o">=</span>github.com/golang/crypto@latest
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ go mod edit -replace<span class="o">=</span>golang.org/x/sys@v0.0.0<span class="o">=</span>github.com/golang/sys@latest</span></span></code></pre></div></div>
]]></description></item></channel></rss>